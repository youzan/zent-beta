(window.webpackJsonp=window.webpackJsonp||[]).push([[74],{574:function(n,a,s){"use strict";s.r(a),s.d(a,"default",(function(){return A}));var t=s(21),p=s.n(t),o=s(476),e=s.n(o),c=s(477),l=s.n(c),u=s(0),k=s.n(u),i=s(42),r=function(){function n(){var n=i.K.useForm(i.W.View),a=k.a.useState(!1),s=l()(a,2),t=s[0],p=s[1],o=k.a.useState(!1),e=l()(o,2),c=e[0],u=e[1],r=k.a.useCallback(()=>{u(!0),setTimeout(()=>{n.initialize({name:"zent",password:"zenttnez",email:"zent@youzan.com"}),u(!1)},1e3)},[n]);return k.a.createElement(k.a.Fragment,null,k.a.createElement(i.K,{layout:"horizontal",form:n,disabled:t},k.a.createElement(i.S,{name:"name",label:k.a.createElement("span",null,"用户名 ",k.a.createElement(i.xb,{trigger:"hover",content:"用户名用于个人账号登录",centerArrow:!0},k.a.createElement(i.cb,{type:"error-circle-o"})),":"),validators:[i.cc.minLength(5,"用户名至少 5 个字"),i.cc.maxLength(25,"用户名最多 25 个字")],helpDesc:"用户名为5-25个字",required:"必填"}),k.a.createElement(i.S,{name:"password",type:"password",label:"密码:",helpDesc:k.a.createElement("span",null,"密码由英文字母、数字组成",k.a.createElement("a",{href:"https://youzan.com",target:"_blank"},"查看更多")),validateOccasion:i.K.ValidateOccasion.Blur|i.K.ValidateOccasion.Change,validators:[i.cc.pattern(/^[a-zA-Z0-9]+$/,"只允许英文字母和数字")],notice:"重要提示：填写后无法修改，请谨慎设置",required:"必填"}),k.a.createElement(i.S,{className:"demo-form-basic-email",label:"E-Mail:",name:"email",validators:[i.cc.required("必填"),i.cc.email("请输入正确的邮箱")]}),k.a.createElement(i.k,{htmlType:"reset"},"重置"),k.a.createElement(i.k,{onClick:n.model.clear.bind(n.model)},"清空"),k.a.createElement(i.k,{loading:c,onClick:r},"初始化表单数据")),k.a.createElement(i.k,{style:{marginTop:24},type:t?"default":"error",onClick:()=>p(n=>!n)},t?"解除禁用":"禁用表单"))}return k.a.createElement(n,null)},m=function(){function n(){var n=i.K.useForm(i.W.View);return k.a.createElement(i.K,{layout:"horizontal",form:n},k.a.createElement(i.S,{name:"name",label:"昵称:",required:"请选择类型",props:{spellCheck:!1}}),k.a.createElement(i.V,{name:"type",label:"类型:",required:!0,props:{options:[{key:1,text:"普通用户"},{key:2,text:"高级用户"}]}}),k.a.createElement(i.U,{name:"sex",label:"性别:",required:!0,validators:[i.cc.required("请选择性别")]},k.a.createElement(i.Db,{value:"1"},"男"),k.a.createElement(i.Db,{value:"2"},"女")),k.a.createElement(i.M,{name:"hobbies",label:"兴趣标签:",required:!0,validators:[i.cc.minLength("请选择标签")]},k.a.createElement(i.n,{value:"movie"},"电影"),k.a.createElement(i.n,{value:"book"},"书籍"),k.a.createElement(i.n,{value:"travel"},"旅行")),k.a.createElement(i.T,{name:"age",label:"年龄:",defaultValue:12,props:{showStepper:!0}}),k.a.createElement(i.N,{name:"color",label:"喜欢的颜色:",defaultValue:"#5197FF"}),k.a.createElement(i.Y,{name:"workTime",label:"工作时间:",defaultValue:["9:00:00","18:00:00"]}),k.a.createElement(i.Q,{name:"dateRange",label:"身份证有效期:",type:"split",dateFormat:"YYYY-MM-DD HH:mm:ss",validators:[function(n){if(!n[0]||!n[1])return{name:"required",message:"请填写有效期"}}]}),k.a.createElement(i.X,{name:"isPublic",label:"公开个人信息:",defaultValue:!1}),k.a.createElement(i.L,{name:"agree",label:"同意许可条例:"},"是"),k.a.createElement(i.k,{type:"primary",onClick:()=>i.tb.info(k.a.createElement("code",null,k.a.createElement("pre",null,JSON.stringify(n.getValue(),null,2))))},"Values"))}return k.a.createElement(n,null)},d=function(){function n({name:n,model:s,defaultValue:t="",validators:p=[],label:o,required:e,withoutLabel:c,style:l,className:u}){var r;if(n&&s)throw new Error("Cannot use name and model together.");var m=i.K.useField(n||s,t,[...p,i.cc.pattern(/^[\d]{17}[\dXY]$/,"请输入合法的身份证号")]),d=k.a.useCallback(n=>{m.isTouched=!0;var a=n.target.value.replace(/\s/g,"");a.length<=18&&m.patchValue(a)},[m]);return k.a.createElement(i.P,{style:l,className:u,label:o,required:e,withoutLabel:c},k.a.createElement(i.gb,{value:a(m.value),width:220,onChange:d,onBlur:k.a.useCallback(()=>m.validate(),[m])}),k.a.createElement(i.R,null,null===(r=m.error)||void 0===r?void 0:r.message))}function a(n){for(var a=[6,10,12,14,18],s=n.length,t="",p=0;p<s;)a.includes(p)&&(t+=" "),t+=n[p],p++;return t}function s(){var a=i.K.useForm(i.W.View);return k.a.createElement(i.K,{form:a,layout:"horizontal"},k.a.createElement(n,{name:"id",label:"身份证号：",required:!0,validators:[i.cc.required("请输入身份证号")]}))}return k.a.createElement(s,null)},g=function(){var n=i.Hb.SelectTrigger,a=[{code:"+86",zh:"zhongguo",eng:"china",text:"中国 +86",key:0},{code:"+853",zh:"aomen",eng:"Macau",text:"中国澳门 +853",key:1}],s=(n,a)=>!!(a&&n.text.trim().toLowerCase().indexOf(a.trim().toLowerCase())>-1);function t(n){return n}var p=()=>{var p=i.K.useField("areacode",a[0]),o=i.K.useField("mobile","",[i.cc.pattern(/^\d{1,10}$/,"请输入正确的手机号")]),c=i.J.useMulti(Object(u.useCallback)(()=>{p.isTouched=!0},[p]),i.J.usePipe(t,i.J.makeChangeHandler(p,i.K.ValidateOption.Default)));return k.a.createElement(i.P,{className:"form-demo-multiple-value",label:"联系方式:",invalid:!!p.error||!!o.error},k.a.createElement(i.Hb,{className:"areacode",options:a,filter:s,trigger:n,width:160,value:p.value,onChange:c}),k.a.createElement(i.ub,e()({className:"phone-num",placeholder:"请填写手机号",width:160,value:o.value},i.J.useCompositionHandler(o),{onChange:i.J.makeChangeHandler(o,i.K.ValidateOption.Default),onBlur:Object(u.useCallback)(()=>{o.isTouched=!0,o.validate()},[o])})),k.a.createElement(i.K.CombineErrors,{models:[p,o]}))},o=()=>{var n=i.K.useForm(i.W.View),a=Object(u.useCallback)(()=>{var a=n.getValue();console.log(a)},[n]),s=Object(u.useCallback)(()=>{n.resetValue()},[n]);return k.a.createElement(i.K,{form:n,layout:"horizontal"},k.a.createElement(i.I,{name:"contactPhone"},k.a.createElement(p,null)),k.a.createElement("div",{className:"zent-form__form-actions"},k.a.createElement(i.k,{type:"primary",onClick:a},"获取表单值")," ",k.a.createElement(i.k,{type:"primary",outline:!0,onClick:s},"重置表单值")))};return k.a.createElement(o,null)},y=function(){function n(){var n=i.K.useForm(i.W.View),a=k.a.useCallback(n=>{n.getValue();return new Promise(n=>{setTimeout(n,1e3)})},[]),s=k.a.useCallback(()=>{i.tb.success("表单提交成功")},[]),t=k.a.useCallback(()=>{i.tb.error("校验似乎出了点问题...")},[]);return k.a.createElement(i.K,{form:n,layout:"horizontal",onSubmit:a,onSubmitSuccess:s,onSubmitFail:t},k.a.createElement(i.S,{name:"name",label:"姓名：",required:!0}),k.a.createElement(i.k,{htmlType:"submit",type:"primary"},"提交"))}return k.a.createElement(n,null)},b=function(){function n(n,a){return n!==a.getSectionValue("password").password?{name:"passwordEqual",message:"两次填写的密码不一致"}:null}function a(n){if(10!==n.length&&15!==n.length)return{name:"idLength",message:"证件号码是10位或者15位数字"}}function s(){var s=i.K.useForm(i.W.View),t=Object(u.useCallback)(()=>{s.resetValue()},[s]);return k.a.createElement(i.K,{form:s,layout:"horizontal",scrollToError:!0},k.a.createElement(i.S,{name:"name",label:"昵称:",required:!0,helpDesc:"正则校验",validators:[i.cc.required("请填写昵称"),i.cc.pattern(/^[a-zA-Z]+$/,"昵称只能是字母")]}),k.a.createElement(i.S,{name:"password",label:"密码:",required:!0,helpDesc:"非空校验",validators:[i.cc.required("请填写密码")],props:{type:"password"}}),k.a.createElement(i.S,{name:"confirmPw",label:"确认密码:",required:!0,helpDesc:"自定义校验函数",validators:[n],props:{type:"password"}}),k.a.createElement(i.S,{name:"email",label:"邮件:",helpDesc:"邮件校验",validators:[i.cc.email("请填写正确的邮件")]}),k.a.createElement(i.S,{name:"remark",label:"备注:",helpDesc:"文本输入",props:{type:"textarea",showCount:!0,maxCharacterCount:10},validators:[i.cc.maxLength(10,"备注不能超过10个字符")]}),k.a.createElement(i.T,{name:"id",label:"证件号码:",required:!0,helpDesc:"自定义校验函数",validators:[a]}),k.a.createElement(i.M,{name:"hobbies",label:"兴趣标签:",required:!0,helpDesc:"长度校验",validators:[i.cc.minLength(2,"请至少选择两个")]},k.a.createElement(i.n,{value:"movie"},"电影"),k.a.createElement(i.n,{value:"book"},"书籍"),k.a.createElement(i.n,{value:"travel"},"旅行")),k.a.createElement("div",{className:"zent-form-actions"},k.a.createElement(i.k,{type:"primary",htmlType:"submit"},"获取表单值"),k.a.createElement(i.k,{type:"primary",outline:!0,onClick:t},"重置表单值")))}return k.a.createElement(s,null)},f=function(){var n=i.K.ValidateOption,a=i.K.createAsyncValidator(()=>new Promise(n=>{setTimeout(()=>{n({name:"async",message:"from async validator"})},100)}));function s(a){if("blur"===a)return n.IncludeAsync}function t(){var t=i.K.useForm(i.W.View),p=Object(u.useCallback)(()=>{t.resetValue()},[t]),o=Object(u.useCallback)(()=>{t.validate(n.IncludeAsync|n.Default).then(()=>{i.tb.success("Validate finished")})},[t]);return k.a.createElement(i.K,{form:t,layout:"horizontal",scrollToError:!0},k.a.createElement(i.S,{name:"name",label:"昵称:",required:!0,getValidateOption:s,validators:[i.cc.required("请填写昵称"),i.cc.pattern(/^[a-zA-Z]+$/,"昵称只能是字母"),a]}),k.a.createElement("div",{className:"zent-form-actions"},k.a.createElement(i.k,{type:"primary",onClick:o},"校验表单"),k.a.createElement(i.k,{type:"primary",outline:!0,onClick:p},"重置表单值")))}return k.a.createElement(t,null)},h=function(){function n({label:n,name:a,helpDesc:s,validators:t,validateOption:p=i.ac.Empty,defaultValue:o="",props:c}){var l=i.K.useField(a,o,[i.cc.required("请输入邮箱"),i.cc.email("请输入正确的邮箱"),...t||[]]),r=Object(u.useCallback)(n=>{l.isTouched=!0,l.value=n.target.value},[l]),m=Object(u.useCallback)(()=>{l.validate(p)},[l,p]);return k.a.createElement(i.P,{label:n,required:!0},k.a.createElement(i.gb,e()({},c,{value:l.value,onChange:r,onBlur:m,width:240})),l.error&&k.a.createElement(i.R,null,l.error.message),k.a.createElement("p",{style:{color:"#ababab",fontSize:12}},s))}function a(){var a=i.K.useForm(i.W.View);return k.a.createElement(i.K,{form:a,layout:"horizontal"},k.a.createElement(n,{name:"email",label:"邮箱：",helpDesc:"这个字段总会在blur事件触发校验",validateOption:i.ac.IncludeUntouched|i.ac.IncludeAsync}),k.a.createElement(n,{name:"email",label:"邮箱2：",helpDesc:"这个字段只会在触发onChange之后才在blur事件触发校验",validateOption:i.ac.IncludeAsync}))}return k.a.createElement(a,null)},v=function(){var n=i.K.FieldValue;function a(){var a=i.K.useForm(i.W.View);return k.a.createElement(i.K,{form:a,layout:"horizontal",scrollToError:!0},k.a.createElement(i.X,{label:"启用短信通知：",name:"shouldNotify"}),k.a.createElement(n,{name:"shouldNotify"},n=>k.a.createElement(i.S,{name:"contact",label:(n?"手机号":"联系方式")+"：",required:!0,validators:[i.bc.message(n=>n.getFormValue().shouldNotify?"请填写手机号":"请填写联系方式")(i.cc.required("123")),i.bc.when(n=>{var a;return null===(a=n.getFormValue())||void 0===a?void 0:a.shouldNotify})(i.cc.pattern(/^\d{11}$/,"请填写11位手机号"))]})))}return k.a.createElement(a,null)},F=function(){function n(){var n=i.K.useForm(i.W.View),a=Object(u.useState)("vertical"),s=l()(a,2),t=s[0],p=s[1],o=Object(u.useCallback)(n=>p(n.target.value),[]);return k.a.createElement("div",{className:"form-layout"},k.a.createElement(i.Db.Group,{className:"form-layout-radio",value:t,onChange:o},k.a.createElement(i.Db,{value:"vertical"},"vertical"),k.a.createElement(i.Db,{value:"horizontal"},"horizontal")),k.a.createElement(i.K,{layout:t,form:n},k.a.createElement(i.S,{name:"name",type:"text",label:"用户名:",value:""}),k.a.createElement(i.S,{name:"name2",type:"text",label:"用户名2:",value:""}),k.a.createElement("div",{className:"zent-form__form-actions"},k.a.createElement(i.k,{type:"primary",htmlType:"submit"},"获取表单值"))))}return k.a.createElement(n,null)},w=function(){function n({name:n}){var a,s=i.K.useFieldArray(n,[i.cc.maxLength(3,"最多添加 3 项兴趣")]),t=Object(u.useCallback)(()=>{s.push(""),s.validate(i.ac.IncludeUntouched)},[]);return k.a.createElement(k.a.Fragment,null,k.a.createElement(i.k,{onClick:t,className:"add-btn"},"添加兴趣爱好"),k.a.createElement("ul",null,s.children.map((n,a)=>k.a.createElement("li",{key:n.id,className:"hobby"},k.a.createElement(i.S,{model:n,label:"兴趣爱好".concat(a+1,":"),validators:[i.cc.required("请填写兴趣爱好")],props:{width:120}}),k.a.createElement("span",{className:"del-btn",onClick:()=>{s.splice(a,1),s.validate()}},"删除该爱好")))),k.a.createElement(i.R,{style:{marginLeft:128}},null===(a=s.error)||void 0===a?void 0:a.message))}function a({remove:a,index:s}){var t=Object(u.useCallback)(()=>{a(s)},[s,a]);return k.a.createElement("li",{className:"members"},k.a.createElement("div",{className:"member-title"},k.a.createElement("span",null,"成员",s+1),k.a.createElement(i.xb,{centerArrow:!0,trigger:"hover",content:"删除该成员"},k.a.createElement(i.cb,{className:"del-btn",type:"close-circle",onClick:t}))),k.a.createElement(i.S,{name:"name",type:"text",label:"名字:",required:!0,validators:[i.cc.required("请填写成员名字")],normalizeBeforeSubmit:n=>n.toUpperCase()}),k.a.createElement(i.U,{name:"sex",label:"性别:",defaultValue:"1",required:!0,validators:[i.cc.required("请选择性别")]},k.a.createElement(i.Db,{value:"1"},"男"),k.a.createElement(i.Db,{value:"2"},"女")),k.a.createElement(n,{name:"hobbies"}))}function s({name:n}){var s=i.K.useFieldArray(n),t=Object(u.useCallback)(()=>{s.push({})},[s]),p=Object(u.useCallback)(()=>{s.push({},{})},[s]),o=Object(u.useCallback)(n=>{s.splice(n,1)},[s]);return k.a.createElement(k.a.Fragment,null,s.children.length<3&&k.a.createElement(i.k,{onClick:t,className:"add-btn"},"添加一个成员"),s.children.length<2&&k.a.createElement(i.k,{onClick:p,className:"add-btn"},"添加两个成员"),k.a.createElement("ul",null,s.children.map((n,s)=>k.a.createElement(i.I,{key:n.id,model:n},k.a.createElement(a,{index:s,remove:o})))))}function t(){var n=i.K.useForm(i.W.View),a=Object(u.useCallback)(()=>{n.patchValue({number:42,members:[{name:"john",sex:"1",hobbies:["H1"]}]})},[n]),t=Object(u.useCallback)(()=>{console.log(n.getValue())},[n]),p=Object(u.useCallback)(()=>{console.log(n.getSubmitValue())},[n]);return k.a.createElement(i.K,{className:"demo-form",layout:"horizontal",form:n},k.a.createElement(i.T,{name:"number",label:"总人数:",required:!0,validators:[i.cc.required("请填写总人数")]}),k.a.createElement(s,{name:"members"}),k.a.createElement("div",{style:{marginTop:16}},k.a.createElement(i.k,{type:"primary",htmlType:"submit",onClick:t},"获取表单值"),k.a.createElement(i.k,{type:"primary",htmlType:"submit",onClick:p},"获取表单提交值"),k.a.createElement(i.k,{onClick:a},"设置 FieldArray 值")))}return k.a.createElement(t,null)},E=function(){var n=i.K.form,a=i.K.field,s=i.K.array,t=i.K.set;function p({model:n}){var a=i.K.useFieldArray(n),s=Object(u.useCallback)(()=>{a.push("")},[]);return k.a.createElement(k.a.Fragment,null,k.a.createElement(i.k,{onClick:s,className:"add-btn"},"添加兴趣爱好"),k.a.createElement("ul",null,a.children.map((n,s)=>k.a.createElement("li",{key:s,className:"hobby"},k.a.createElement(i.S,{model:n,label:"兴趣爱好".concat(s+1,":"),props:{width:120}}),k.a.createElement("span",{className:"del-btn",onClick:()=>a.splice(s,1)},"删除该爱好")))))}function o({remove:n,index:a,model:s}){var t=s.children,o=t.name,e=t.sex,c=t.hobbies,l=Object(u.useCallback)(()=>{n(a)},[a,n]);return k.a.createElement(i.I,{model:s},k.a.createElement("li",{className:"members"},k.a.createElement("div",{className:"member-title"},k.a.createElement("span",null,"成员",a+1),k.a.createElement(i.xb,{centerArrow:!0,trigger:"hover",content:"删除该成员"},k.a.createElement(i.cb,{className:"del-btn",type:"close-circle",onClick:l}))),k.a.createElement(i.S,{model:o,type:"text",label:"名字:",required:!0}),k.a.createElement(i.U,{model:e,label:"性别:",required:!0},k.a.createElement(i.Db,{value:"1"},"男"),k.a.createElement(i.Db,{value:"2"},"女")),k.a.createElement(p,{model:c})))}function e({model:n}){var a=i.K.useFieldArray(n),s=Object(u.useCallback)(()=>{a.push({})},[a]),t=Object(u.useCallback)(()=>{a.push({},{})},[a]),p=Object(u.useCallback)(n=>{a.splice(n,1)},[a]);return k.a.createElement(k.a.Fragment,null,a.children.length<3&&k.a.createElement(i.k,{onClick:s,className:"add-btn"},"添加一个成员"),a.children.length<2&&k.a.createElement(i.k,{onClick:t,className:"add-btn"},"添加两个成员"),k.a.createElement("ul",null,a.children.map((n,a)=>k.a.createElement(o,{key:a,model:n,index:a,remove:p}))))}var c=n({number:a("").validators(i.cc.required("请填写总人数")),members:s(t({name:a("").validators(i.cc.required("请填写成员名字")).normalizeBeforeSubmit(n=>n.toUpperCase()),sex:a("1").validators(i.cc.required("请选择性别")),hobbies:s(a("").validators(i.cc.required("请填写兴趣爱好"))).defaultValue([])}))});function l(){var n=i.K.useForm(c),a=n.model.children,s=a.number,t=a.members,p=Object(u.useCallback)(()=>{n.patchValue({number:42,members:[{name:"john",sex:"1",hobbies:["H1"]}]})},[n]),o=Object(u.useCallback)(()=>{console.log(n.getValue())},[n]),l=Object(u.useCallback)(()=>{console.log(n.getSubmitValue())},[n]);return k.a.createElement(i.K,{className:"demo-form",layout:"horizontal",form:n},k.a.createElement(i.T,{model:s,label:"总人数:",required:!0}),k.a.createElement(e,{model:t}),k.a.createElement("div",{style:{marginTop:16}},k.a.createElement(i.k,{type:"primary",htmlType:"submit",onClick:o},"获取表单值"),k.a.createElement(i.k,{type:"primary",htmlType:"submit",onClick:l},"获取表单提交值"),k.a.createElement(i.k,{onClick:p},"设置 FieldArray 值")))}return k.a.createElement(l,null)},q=function(){function n(){var n=i.K.useForm(i.W.View);return k.a.createElement(i.K,{layout:"horizontal",form:n},k.a.createElement(i.S,{name:"field1",label:"field1",required:"请填写内容",helpDesc:"这个字段不会展示它自己的错误",withoutError:!0}),k.a.createElement(i.S,{name:"field2",type:"field2",label:"field2",required:"请填写内容"}),k.a.createElement(i.K.CombineErrors,{names:["field1","field2"]}))}return k.a.createElement(n,null)},C=function(){function n(){var n=i.K.useForm(i.W.View);return k.a.createElement(i.K,{layout:"horizontal",form:n},k.a.createElement(i.S,{name:"field1",label:"field1",normalize:n=>n.toUpperCase(),format:n=>n.toLowerCase()}),k.a.createElement("label",null,"实际值："),k.a.createElement(i.K.FieldValue,{name:"field1"}))}return k.a.createElement(n,null)},V=function(){var n=()=>{var n=i.K.useFieldArrayValue("nickname");return n?k.a.createElement("div",{className:"form-demo-11-preview-nickname"},k.a.createElement("label",null,"昵称:"),n.map((n,a)=>k.a.createElement(i.K.FieldValue,{key:a,model:n},n=>"".concat(n," ")))):null},a=()=>k.a.createElement("div",{className:"form-demo-11-preview"},k.a.createElement(i.K.FieldValue,{name:"name"},n=>k.a.createElement("h3",null,n)),k.a.createElement(i.K.FieldSetValue,{name:"contact"},k.a.createElement("div",{className:"form-demo-11-preview-phone"},k.a.createElement("label",null,"电话："),k.a.createElement(i.K.FieldValue,{name:"phone"})),k.a.createElement("div",{className:"form-demo-11-preview-address"},k.a.createElement(i.K.FieldValue,{name:"address"}))),k.a.createElement(n,null)),s=({model:n,last:a,add:s,del:t})=>{var p=i.K.useField(n),o=Object(u.useCallback)(n=>{p.value=n.target.value},[p]);return k.a.createElement("div",{className:"form-demo-11-nickname"},k.a.createElement(i.gb,e()({},i.J.useCompositionHandler(p),{onChange:o,value:p.value})),k.a.createElement(i.cb,{type:"close-circle",style:{color:"#da2626"},onClick:t}),a&&k.a.createElement(i.cb,{type:"plus-circle",style:{color:"#4cb35d"},onClick:s}))},t=()=>{var n=i.K.useFieldArray("nickname",[],[""]),a=()=>n.push("");return k.a.createElement(i.P,{label:"昵称"},n.children.map((t,p)=>k.a.createElement(s,{key:p,model:t,last:n.children.length===p+1,add:a,del:()=>(a=>n.splice(a,1))(p)})))},p=()=>k.a.createElement("div",null,k.a.createElement(i.S,{label:"姓名",name:"name"}),k.a.createElement(i.I,{name:"contact"},k.a.createElement(i.S,{label:"电话",name:"phone"}),k.a.createElement(i.S,{label:"联系地址",name:"address"})),k.a.createElement(t,null));function o(){var n=i.K.useForm(i.W.View);return k.a.createElement(i.K,{form:n,layout:"horizontal",className:"form-demo-11"},k.a.createElement(a,null),k.a.createElement(p,null))}return k.a.createElement(o,null)},j=function(){function n(n){return"no-limit"!==n.option&&n.count<=0?{name:"error",message:"次数限制不能为0."}:null}function a(n){return n.target.value}function s(){var n=i.K.useField("option","no-limit"),s=i.K.useField("count",0),t=i.J.useMAppend(Object(u.useCallback)(()=>n.isTouched=!0,[n]),i.J.usePipe(a,i.J.makeChangeHandler(n,i.K.ValidateOption.Default)));return k.a.createElement(i.Db.Group,{className:"form-demo-12-radio-group",value:n.value,onChange:t},k.a.createElement(i.Db,{value:"no-limit"},"不限制"),k.a.createElement(i.Db,{value:"limit"},"限制",k.a.createElement(i.ub,e()({},i.J.useCompositionHandler(s),{disabled:"no-limit"===n.value,value:s.value,onChange:i.J.makeChangeHandler(s,i.K.ValidateOption.Default),onBlur:Object(u.useCallback)(()=>{s.isTouched=!0,s.validate()},[s])})),"次"))}function t(){var a=i.K.useForm(i.W.View),t=Object(u.useCallback)(()=>a.submit(),[]),p=Object(u.useCallback)(()=>(console.log("onSubmit"),Promise.resolve()),[]);return k.a.createElement(i.K,{form:a,layout:"horizontal",onSubmit:p},k.a.createElement(i.I,{name:"values",validators:[n]},k.a.createElement(s,null)),k.a.createElement("div",null,k.a.createElement(i.k,{onClick:t,style:{marginTop:16}},"Submit")))}return k.a.createElement(t,null)},x=function(){function n(){var n=i.K.useForm(i.W.View);return Object(u.useEffect)(()=>{var a=n.model.get("field1"),s=n.model.get("field2"),t=a.value$.subscribe(n=>{s.value=n});return()=>t.unsubscribe()},[n]),k.a.createElement(i.K,{form:n,layout:"horizontal"},k.a.createElement(i.S,{name:"field1",label:"field1"}),k.a.createElement(i.S,{name:"field2",label:"field2"}))}return k.a.createElement(n,null)},z=function(){function n(){var n=i.K.useForm(i.W.View);return k.a.createElement(i.K,{layout:"horizontal",form:n},k.a.createElement(i.O.Provider,{value:{labelStyle:{flexBasis:80,justifyContent:"flex-start"}}},k.a.createElement(i.S,{name:"name",label:"姓名："}),k.a.createElement(i.S,{name:"contact",label:"联系方式："})))}return k.a.createElement(n,null)};function S(n){return k.a.createElement(n.tag,e()({},n.attributes,{dangerouslySetInnerHTML:{__html:n.html}}))}function N(n){return k.a.createElement(S,{tag:"section",html:n.html,attributes:{className:"zandoc-react-markdown"}})}function O(n){return k.a.createElement(S,{tag:"style",html:n.style})}class I extends u.Component{constructor(...n){super(...n),p()(this,"state",{showCode:!1}),p()(this,"toggle",()=>{this.setState({showCode:!this.state.showCode})})}render(){var n=this.state.showCode,a=this.props,s=a.title,t=a.src,p=a.children;return k.a.createElement("div",{className:"zandoc-react-demo"},k.a.createElement("div",{className:"zandoc-react-demo__preview"},p),k.a.createElement("div",{className:"zandoc-react-demo__bottom",onClick:this.toggle},k.a.createElement("div",{className:"zandoc-react-demo__title"},k.a.createElement("p",null,s||"")),k.a.createElement("i",{className:"zenticon zenticon-caret-up zandoc-react-demo__toggle ".concat(n?"zandoc-react-demo__toggle-on":"zandoc-react-demo__toggle-off")})),n&&k.a.createElement("pre",{className:"zandoc-react-demo__code"},k.a.createElement(S,{tag:"code",html:t,attributes:{className:"language-jsx"}})))}}class A extends u.Component{componentDidMount(){var n=location.hash;if(n){var a=document.querySelector('a[href="'.concat(n,'"]'));a&&Object(i.mc)(document.documentElement,0,function n(a,s){for(;a;)return a.offsetTop&&"static"!==getComputedStyle(a).position&&(s+=a.offsetTop),n(a.parentNode,s);return s}(a,-9))}}render(){return k.a.createElement("div",{className:"zandoc-react-container",key:null},k.a.createElement(O,{style:'.demo-form-basic-email {\n\tmargin-left: 5px;\n}\n\n.zent-form__controls .zent-switch-small {\n\tmargin-top: 5px;\n}\n\n.form-demo-multiple-value .zent-form-control-content {\n\tdisplay: flex;\n}\n\n.form-layout {\n\twidth: 500px;\n}\n\n.form-layout-radio {\n\tmargin-bottom: 30px;\n}\n\n.add-btn {\n\tmargin-left: 130px;\n}\n\n.demo-form .members {\n\t\tborder: 1px dashed #ccc;\n\t\tmargin: 20px 0;\n\t\tpadding: 10px 0;\n\t\tposition: relative;\n\t}\n\n.demo-form .members .del-btn {\n\t\t\tcolor: #666;\n\t\t\tcursor: pointer;\n\t\t\tposition: absolute;\n\t\t\tright: -8px;\n\t\t\ttop: -8px;\n\t\t}\n\n.demo-form .member-title{\n\t\tmargin: 0 10px;\n\t}\n\n.demo-form .hobby {\n\t\tmargin-top: 20px;\n\t\tposition: relative;\n\t}\n\n.demo-form .hobby .del-btn {\n\t\t\tcolor: #155bd4;\n\t\t\tcursor: pointer;\n\t\t\tfont-size: 12px;\n\t\t\tposition: absolute;\n\t\t\ttop: 6px;\n\t\t\tleft: 300px;\n\t\t\twidth: 100px;\n\t\t}\n\n.demo-form .hobby-title {\n\t\tmargin: 10px 0 5px;\n\t}\n\n.demo-form .zenticon {\n\t\tmargin-left: 10px;\n\t}\n\n.form-demo-11 {\n\t\tdisplay: flex;\n\t}\n\n.form-demo-11-preview {\n\t\t\tpadding: 15px;\n    \twidth: 230px;\n\t\t\tmargin: 20px;\n    \theight: 90px;\n    \tborder-radius: 5px;\n\t\t\tbackground-size: 100% 100%;\n    \tbackground-image: url("https://img.yzcdn.cn/public_files/2019/03/11/704e415d887541d2bf9ce945483af305.png!middle.webp");\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t}\n\n.form-demo-11-preview h3 {\n\t\t\t\tcolor: #ffd700;\n\t\t\t\tmin-height: 30px;\n\t\t\t\ttext-align: right;\n\t\t\t\tfont-size: 16px;\n\t\t\t}\n\n.form-demo-11-preview-address {\n\t\t\t\tcolor: #333;\n\t\t\t\tfont-size: 10px;\n\t\t\t\tmargin-top: auto;\n\t\t\t}\n\n.form-demo-11-preview-phone {\n\t\t\t\ttext-align: right;\n\t\t\t\tcolor: #c0c0c0;\n\t\t\t\tfont-size: 12px;\n\t\t\t}\n\n.form-demo-11-preview-nickname {\n\t\t\t\tcolor: #333;\n\t\t\t\tfont-size: 12px;\n\t\t\t\tmargin-bottom: 5px;\n\t\t\t}\n\n.form-demo-11-nickname {\n\t\t\tdisplay: flex;\n\t\t\talign-items: center\n\t\t}\n\n.form-demo-11-nickname:not(:first-child) {\n\tmargin-top: 16px;\n}\n\n.form-demo-11-nickname .zenticon {\n\t\t\t\tmargin-left: 5px;\n\t\t\t\tcursor: pointer;\n}\n\n.form-demo-12-radio-group {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t}\n\n.form-demo-12-radio-group .zent-radio-wrap {\n\t\t\tdisplay: flex;\n\t\t\theight: 30px;\n\t\t\talign-items: center;\n\t\t}\n\n.form-demo-12-radio-group .zent-radio-wrap span:nth-child(2) {\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t}\n\n.form-demo-12-radio-group .zent-radio-wrap .zent-input-wrapper {\n\t\t\t\tmargin: 0 10px;\n\t\t\t}\n\n.form-demo-12-radio-group {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t}\n\n.form-demo-12-radio-group .zent-radio-wrap {\n\t\t\tdisplay: flex;\n\t\t\theight: 30px;\n\t\t\talign-items: center;\n\t\t}\n\n.form-demo-12-radio-group .zent-radio-wrap span:nth-child(2) {\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t}\n\n.form-demo-12-radio-group .zent-radio-wrap .zent-input-wrapper {\n\t\t\t\tmargin: 0 10px;\n\t\t\t}\n\n.demo-form-basic-email {\n\tmargin-left: 5px;\n}'}),k.a.createElement(N,{html:'<h2 class="anchor-heading"><a href="#form-biao-dan-zu-jian">¶</a><a href="javascript:void(0)" id="form-biao-dan-zu-jian" class="anchor-point"></a>Form 表单组件</h2>\n<h3 class="anchor-heading"><a href="#jing-gao">¶</a><a href="javascript:void(0)" id="jing-gao" class="anchor-point"></a>⚠️ 警告</h3>\n<p>这是新版的 <code>Form</code> 组件，和 <code>7.0.0</code> 之前版本的 <code>Form</code> 组件不兼容。</p>\n<p>可以在<a href="https://zent-contrib.github.io/zent-compat">这里查看老版 <code>Form</code> 组件的文档</a>。</p>\n<h3 class="anchor-heading"><a href="#api">¶</a><a href="javascript:void(0)" id="api" class="anchor-point"></a>API</h3>\n<p><code>Form</code> 的文档分为两部分：</p>\n<ul>\n<li>和 Zent 相关的组件 API 文档可以在<a href="../../apidoc/classes/form.html">这里搜索查看</a>。</li>\n<li>其他和 Zent 无关的 <a href="https://zent-contrib.github.io/formulr/">API 文档</a>，例如 <code>useField</code> 等 hooks 、<code>Validators</code> 以及其他底层基础组件。</li>\n</ul>\n<h4 class="anchor-heading"><a href="#form-de-yun-xing-mo-shi">¶</a><a href="javascript:void(0)" id="form-de-yun-xing-mo-shi" class="anchor-point"></a>Form 的运行模式</h4>\n<p><strong>这是使用 <code>Form</code> 时的一个非常重要的概念，请一定理解清楚。</strong></p>\n<p><code>Form</code> 有两种运行模式(<code>FormStrategy</code>)，<code>View</code> 和 <code>Model</code>。<code>FormStrategy</code> 指明了表单是由视图驱动的还是独立数据驱动。</p>\n<ul>\n<li>当使用 <code>View</code> 模式时，表单项组件和 <code>hooks</code> 接受一个 <code>name</code> 参数，根据 <code>name</code> 构建内部数据结构。</li>\n<li>当使用 <code>Model</code> 时，数据结构是在表单外构建的，表单的组件和 <code>hooks</code> 必须直接传入该字段对应的 <code>model</code>。</li>\n</ul>\n<p><strong>不同模式下表单项会有一些参数不同。</strong></p>\n<h4 class="anchor-heading"><a href="#ji-chu-shi-yong-fang-fa">¶</a><a href="javascript:void(0)" id="ji-chu-shi-yong-fang-fa" class="anchor-point"></a>基础使用方法</h4>\n<p>所有表单组件必须包裹在一个 <code>Form</code> 组件内部，<code>Form</code> 组件的参数请<a href="../../apidoc/interfaces/iformprops.html">参考这里</a>。每一个表单项对应一个 <code>Field</code>，我们已经内置了 Zent 组件对应的 <code>Field</code> 组件；也可以使用自己封装的自定义表单项组件。</p>\n<ul>\n<li><code>FormInputField</code></li>\n<li><code>FormSelectField</code></li>\n<li><code>FormRadioGroupField</code></li>\n<li><code>FormCheckboxField</code></li>\n<li><code>FormCheckboxGroupField</code></li>\n<li><code>FormNumberInputField</code></li>\n<li><code>FormSwitchField</code></li>\n<li><code>FormColorPickerField</code></li>\n<li><code>FormDatePickerField</code></li>\n<li><code>FormWeekPickerField</code></li>\n<li><code>FormMonthPickerField</code></li>\n<li><code>FormQuarterPickerField</code></li>\n<li><code>FormYearPickerField</code></li>\n<li><code>FormTimePickerField</code></li>\n<li><code>FormTimeRangePickerField</code></li>\n<li><code>FormDateRangePickerField</code></li>\n<li><code>FormCombinedTimeRangePickerField</code></li>\n<li><code>FormCombinedDateRangePickerField</code></li>\n<li><code>FormDateRangeQuickPickerField</code></li>\n</ul>\n<p><code>Field</code> 组件支持的完整参数列表可以<a href="../../apidoc/interfaces/iformfieldpropsbase.html">参考这里</a>，以及<a href="../../apidoc/interfaces/iformcontrolprops.html">这里除 <code>invalid</code> 之外的参数</a>；这些都是两种模式下通用的参数。</p>\n<ul>\n<li><code>View</code> 模式还支持<a href="../../apidoc/interfaces/iformfieldviewdrivenprops.html">以下参数</a>。</li>\n<li><code>Model</code> 模式还支持<a href="../../apidoc/interfaces/iformfieldmodeldrivenprops.html">以下参数</a>。注意，此模式下校验规则正常是设置在 model 上的，而不是表单项组件上。</li>\n<li>在 <code>View</code> 模式下使用 <code>FieldArray</code> 时，由于该组件的特殊性，虽然此时传给 <code>Field</code> 的是 <code>model</code>（按上述规则这就是 <code>Model</code> 模式），但是校验规则还是需要设置在表单项上。</li>\n</ul>\n<h3 class="anchor-heading"><a href="#ji-chu-neng-li">¶</a><a href="javascript:void(0)" id="ji-chu-neng-li" class="anchor-point"></a>基础能力</h3>\n<p><code>form</code> 对象具备一些基础的能力：</p>\n<ul>\n<li><code>form.submit</code> 显式触发表单提交事件，会自动触发表单校验。</li>\n<li><code>form.validate</code> 触发一次表单校验。</li>\n<li><code>form.patchValue</code> 为给定的字段赋值。</li>\n<li><code>form.initialize</code> 为给定的字段赋值，同时将这个值作为 <code>initialValue</code> 。</li>\n<li><code>form.reset</code> 显式触发表单重置事件，将所有字段重置为 <code>initialValue</code> ，如果 <code>initialValue</code> 不存在，则使用 <code>defaultValue</code> 。</li>\n<li><code>form.resetValue</code> 将所有字段重置为 <code>initialValue</code> ，不会触发表单事件，如果 <code>initialValue</code> 不存在，则使用 <code>defaultValue</code> 。</li>\n<li><code>form.clear</code> 将所有字段赋值为 <code>defaultValue</code> ，同时清空 <code>initialValue</code> 。</li>\n</ul>\n<p>注：</p>\n<ul>\n<li><code>initialValue</code>：初始值，在逻辑上作为表单首次展示的值，可以被更新。</li>\n<li><code>defaultValue</code>：缺省值，在表单没有输入时使用的值，组件一旦渲染就不可再被更新。</li>\n</ul>'}),k.a.createElement(I,{title:"基础用法",id:"Demo1",src:'<span class="token keyword module">import</span> <span class="token punctuation">{</span>\n  <span class="token maybe-class-name">FormInputField</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">Form</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">FormStrategy</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">Validators</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">Pop</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">Icon</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">ButtonDirective</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span> <span class="token keyword module">from</span> <span class="token string">\'zent\'</span><span class="token punctuation">;</span>\n\n<span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">Component</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> form <span class="token operator">=</span> <span class="token maybe-class-name">Form</span><span class="token punctuation">.</span><span class="token method function property-access">useForm</span><span class="token punctuation">(</span><span class="token maybe-class-name">FormStrategy</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">View</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">const</span> <span class="token punctuation">[</span>disabled<span class="token punctuation">,</span> setDisabled<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token maybe-class-name">React</span><span class="token punctuation">.</span><span class="token method function property-access">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">const</span> <span class="token punctuation">[</span>initializing<span class="token punctuation">,</span> setInitializing<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token maybe-class-name">React</span><span class="token punctuation">.</span><span class="token method function property-access">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">const</span> initialize <span class="token operator">=</span> <span class="token maybe-class-name">React</span><span class="token punctuation">.</span><span class="token method function property-access">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>\n    <span class="token function">setInitializing</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>\n      form<span class="token punctuation">.</span><span class="token method function property-access">initialize</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n        name<span class="token operator">:</span> <span class="token string">\'zent\'</span><span class="token punctuation">,</span>\n        password<span class="token operator">:</span> <span class="token string">\'zenttnez\'</span><span class="token punctuation">,</span>\n        email<span class="token operator">:</span> <span class="token string">\'zent@youzan.com\'</span><span class="token punctuation">,</span>\n      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n      <span class="token function">setInitializing</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>form<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">return</span> <span class="token punctuation">(</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Form</span></span> <span class="token attr-name">layout</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>horizontal<span class="token punctuation">"</span></span> <span class="token attr-name">form</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>form<span class="token punctuation">}</span></span> <span class="token attr-name">disabled</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>disabled<span class="token punctuation">}</span></span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormInputField</span></span>\n          <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>name<span class="token punctuation">"</span></span>\n          <span class="token attr-name">label</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>\n              用户名<span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span>\n              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Pop</span></span> <span class="token attr-name">trigger</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hover<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>用户名用于个人账号登录<span class="token punctuation">"</span></span> <span class="token attr-name">centerArrow</span><span class="token punctuation">></span></span>\n                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Icon</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>error-circle-o<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>\n              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Pop</span></span><span class="token punctuation">></span></span><span class="token operator">:</span>\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>\n          <span class="token punctuation">}</span></span>\n          <span class="token attr-name">validators</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span>\n            <span class="token maybe-class-name">Validators</span><span class="token punctuation">.</span><span class="token method function property-access">minLength</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">\'用户名至少 5 个字\'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n            <span class="token maybe-class-name">Validators</span><span class="token punctuation">.</span><span class="token method function property-access">maxLength</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">,</span> <span class="token string">\'用户名最多 25 个字\'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n          <span class="token punctuation">]</span><span class="token punctuation">}</span></span>\n          <span class="token attr-name">helpDesc</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>用户名为5-25个字<span class="token punctuation">"</span></span>\n          <span class="token attr-name">required</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>必填<span class="token punctuation">"</span></span>\n        <span class="token punctuation">/></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormInputField</span></span>\n          <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span>\n          <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span>\n          <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>密码:<span class="token punctuation">"</span></span>\n          <span class="token attr-name">helpDesc</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>\n              密码由英文字母、数字组成\n              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://youzan.com<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n                查看更多\n              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>\n          <span class="token punctuation">}</span></span>\n          <span class="token attr-name">validateOccasion</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>\n            <span class="token maybe-class-name">Form</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">ValidateOccasion</span></span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">Blur</span></span> <span class="token operator">|</span> <span class="token maybe-class-name">Form</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">ValidateOccasion</span></span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">Change</span></span>\n          <span class="token punctuation">}</span></span>\n          <span class="token attr-name">validators</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span>\n            <span class="token maybe-class-name">Validators</span><span class="token punctuation">.</span><span class="token method function property-access">pattern</span><span class="token punctuation">(</span><span class="token regex">/^[a-zA-Z0-9]+$/</span><span class="token punctuation">,</span> <span class="token string">\'只允许英文字母和数字\'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n          <span class="token punctuation">]</span><span class="token punctuation">}</span></span>\n          <span class="token attr-name">notice</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>重要提示：填写后无法修改，请谨慎设置<span class="token punctuation">"</span></span>\n          <span class="token attr-name">required</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>必填<span class="token punctuation">"</span></span>\n        <span class="token punctuation">/></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormInputField</span></span>\n          <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>demo-form-basic-email<span class="token punctuation">"</span></span>\n          <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>E-Mail:<span class="token punctuation">"</span></span>\n          <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>email<span class="token punctuation">"</span></span>\n          <span class="token attr-name">validators</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span>\n            <span class="token maybe-class-name">Validators</span><span class="token punctuation">.</span><span class="token method function property-access">required</span><span class="token punctuation">(</span><span class="token string">\'必填\'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n            <span class="token maybe-class-name">Validators</span><span class="token punctuation">.</span><span class="token method function property-access">email</span><span class="token punctuation">(</span><span class="token string">\'请输入正确的邮箱\'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n          <span class="token punctuation">]</span><span class="token punctuation">}</span></span>\n        <span class="token punctuation">/></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Button</span></span> <span class="token attr-name">htmlType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>reset<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>重置<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Button</span></span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Button</span></span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>form<span class="token punctuation">.</span><span class="token property-access">model</span><span class="token punctuation">.</span><span class="token method function property-access">clear</span><span class="token punctuation">.</span><span class="token method function property-access">bind</span><span class="token punctuation">(</span>form<span class="token punctuation">.</span><span class="token property-access">model</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span>\n          清空\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Button</span></span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Button</span></span> <span class="token attr-name">loading</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>initializing<span class="token punctuation">}</span></span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>initialize<span class="token punctuation">}</span></span><span class="token punctuation">></span></span>\n          初始化表单数据\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Button</span></span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Form</span></span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Button</span></span>\n        <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> marginTop<span class="token operator">:</span> <span class="token number">24</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span>\n        <span class="token attr-name">type</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>disabled <span class="token operator">?</span> <span class="token string">\'default\'</span> <span class="token operator">:</span> <span class="token string">\'error\'</span><span class="token punctuation">}</span></span>\n        <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token function">setDisabled</span><span class="token punctuation">(</span><span class="token parameter">prev</span> <span class="token arrow operator">=></span> <span class="token operator">!</span>prev<span class="token punctuation">)</span><span class="token punctuation">}</span></span>\n      <span class="token punctuation">></span></span>\n        <span class="token punctuation">{</span>disabled <span class="token operator">?</span> <span class="token string">\'解除禁用\'</span> <span class="token operator">:</span> <span class="token string">\'禁用表单\'</span><span class="token punctuation">}</span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Button</span></span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">></span></span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token maybe-class-name">ReactDOM</span><span class="token punctuation">.</span><span class="token method function property-access">render</span><span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Component</span></span> <span class="token punctuation">/></span></span><span class="token punctuation">,</span> mountNode<span class="token punctuation">)</span><span class="token punctuation">;</span>'},k.a.createElement(r)),k.a.createElement(I,{title:"使用内置表单元素组件",id:"Demo2",src:'<span class="token keyword module">import</span> <span class="token punctuation">{</span>\n  <span class="token maybe-class-name">Form</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">FormStrategy</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">Field</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">FormInputField</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">FormSelectField</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">FormRadioGroupField</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">FormCheckboxField</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">FormCheckboxGroupField</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">FormColorPickerField</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">FormDateRangePickerField</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">FormNumberInputField</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">FormSwitchField</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">Radio</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">Checkbox</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">Button</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">FormTimeRangePickerField</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span> <span class="token keyword module">from</span> <span class="token string">\'zent\'</span><span class="token punctuation">;</span>\n\n<span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">Component</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> form <span class="token operator">=</span> <span class="token maybe-class-name">Form</span><span class="token punctuation">.</span><span class="token method function property-access">useForm</span><span class="token punctuation">(</span><span class="token maybe-class-name">FormStrategy</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">View</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">return</span> <span class="token punctuation">(</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Form</span></span> <span class="token attr-name">layout</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>horizontal<span class="token punctuation">"</span></span> <span class="token attr-name">form</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>form<span class="token punctuation">}</span></span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormInputField</span></span>\n        <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>name<span class="token punctuation">"</span></span>\n        <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>昵称:<span class="token punctuation">"</span></span>\n        <span class="token attr-name">required</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>请选择类型<span class="token punctuation">"</span></span>\n        <span class="token attr-name">props</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>\n          spellCheck<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>\n        <span class="token punctuation">}</span><span class="token punctuation">}</span></span>\n      <span class="token punctuation">/></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormSelectField</span></span>\n        <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>type<span class="token punctuation">"</span></span>\n        <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>类型:<span class="token punctuation">"</span></span>\n        <span class="token attr-name">required</span>\n        <span class="token attr-name">props</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>\n          options<span class="token operator">:</span> <span class="token punctuation">[</span>\n            <span class="token punctuation">{</span> key<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> text<span class="token operator">:</span> <span class="token string">\'普通用户\'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>\n            <span class="token punctuation">{</span> key<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> text<span class="token operator">:</span> <span class="token string">\'高级用户\'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>\n          <span class="token punctuation">]</span><span class="token punctuation">,</span>\n        <span class="token punctuation">}</span><span class="token punctuation">}</span></span>\n      <span class="token punctuation">/></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormRadioGroupField</span></span>\n        <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>sex<span class="token punctuation">"</span></span>\n        <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>性别:<span class="token punctuation">"</span></span>\n        <span class="token attr-name">required</span>\n        <span class="token attr-name">validators</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token maybe-class-name">Validators</span><span class="token punctuation">.</span><span class="token method function property-access">required</span><span class="token punctuation">(</span><span class="token string">\'请选择性别\'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span>\n      <span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Radio</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>男<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Radio</span></span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Radio</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>女<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Radio</span></span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">FormRadioGroupField</span></span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormCheckboxGroupField</span></span>\n        <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hobbies<span class="token punctuation">"</span></span>\n        <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>兴趣标签:<span class="token punctuation">"</span></span>\n        <span class="token attr-name">required</span>\n        <span class="token attr-name">validators</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token maybe-class-name">Validators</span><span class="token punctuation">.</span><span class="token method function property-access">minLength</span><span class="token punctuation">(</span><span class="token string">\'请选择标签\'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span>\n      <span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Checkbox</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>movie<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>电影<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Checkbox</span></span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Checkbox</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>book<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>书籍<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Checkbox</span></span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Checkbox</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>travel<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>旅行<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Checkbox</span></span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">FormCheckboxGroupField</span></span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormNumberInputField</span></span>\n        <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>age<span class="token punctuation">"</span></span>\n        <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>年龄:<span class="token punctuation">"</span></span>\n        <span class="token attr-name">defaultValue</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">12</span><span class="token punctuation">}</span></span>\n        <span class="token attr-name">props</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>\n          showStepper<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n        <span class="token punctuation">}</span><span class="token punctuation">}</span></span>\n      <span class="token punctuation">/></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormColorPickerField</span></span>\n        <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>color<span class="token punctuation">"</span></span>\n        <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>喜欢的颜色:<span class="token punctuation">"</span></span>\n        <span class="token attr-name">defaultValue</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#5197FF<span class="token punctuation">"</span></span>\n      <span class="token punctuation">/></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormTimeRangePickerField</span></span>\n        <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>workTime<span class="token punctuation">"</span></span>\n        <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>工作时间:<span class="token punctuation">"</span></span>\n        <span class="token attr-name">defaultValue</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token string">\'9:00:00\'</span><span class="token punctuation">,</span> <span class="token string">\'18:00:00\'</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span>\n      <span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">FormTimeRangePickerField</span></span><span class="token punctuation">></span></span>\n      <span class="token operator">&lt;</span><span class="token maybe-class-name">FormDateRangePickerField</span>\n        name<span class="token operator">=</span><span class="token string">"dateRange"</span>\n        label<span class="token operator">=</span><span class="token string">"身份证有效期:"</span>\n        type<span class="token operator">=</span><span class="token string">"split"</span>\n        dateFormat<span class="token operator">=</span><span class="token string">"YYYY-MM-DD HH:mm:ss"</span>\n        validators<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span>\n          <span class="token keyword">function</span> <span class="token function">required</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>value<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token operator">!</span>value<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n              <span class="token keyword">return</span> <span class="token punctuation">{</span>\n                name<span class="token operator">:</span> <span class="token string">\'required\'</span><span class="token punctuation">,</span>\n                message<span class="token operator">:</span> <span class="token string">\'请填写有效期\'</span><span class="token punctuation">,</span>\n              <span class="token punctuation">}</span><span class="token punctuation">;</span>\n            <span class="token punctuation">}</span>\n          <span class="token punctuation">}</span><span class="token punctuation">,</span>\n        <span class="token punctuation">]</span><span class="token punctuation">}</span>\n      <span class="token operator">/</span><span class="token operator">></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormSwitchField</span></span>\n        <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>isPublic<span class="token punctuation">"</span></span>\n        <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>公开个人信息:<span class="token punctuation">"</span></span>\n        <span class="token attr-name">defaultValue</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token boolean">false</span><span class="token punctuation">}</span></span>\n      <span class="token punctuation">/></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormCheckboxField</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>agree<span class="token punctuation">"</span></span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>同意许可条例:<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n        是\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">FormCheckboxField</span></span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Button</span></span>\n        <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>primary<span class="token punctuation">"</span></span>\n        <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span>\n          <span class="token maybe-class-name">Notify</span><span class="token punctuation">.</span><span class="token method function property-access">info</span><span class="token punctuation">(</span>\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>code</span><span class="token punctuation">></span></span>\n              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pre</span><span class="token punctuation">></span></span><span class="token punctuation">{</span><span class="token known-class-name class-name">JSON</span><span class="token punctuation">.</span><span class="token method function property-access">stringify</span><span class="token punctuation">(</span>form<span class="token punctuation">.</span><span class="token method function property-access">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword null nil">null</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pre</span><span class="token punctuation">></span></span>\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>code</span><span class="token punctuation">></span></span>\n          <span class="token punctuation">)</span>\n        <span class="token punctuation">}</span></span>\n      <span class="token punctuation">></span></span>\n        <span class="token maybe-class-name">Values</span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Button</span></span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Form</span></span><span class="token punctuation">></span></span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token maybe-class-name">ReactDOM</span><span class="token punctuation">.</span><span class="token method function property-access">render</span><span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Component</span></span> <span class="token punctuation">/></span></span><span class="token punctuation">,</span> mountNode<span class="token punctuation">)</span><span class="token punctuation">;</span>'},k.a.createElement(m)),k.a.createElement(I,{title:"自定义表单组件",id:"Demo18",src:'<span class="token keyword module">import</span> <span class="token punctuation">{</span>\n  <span class="token maybe-class-name">Form</span><span class="token punctuation">,</span>\n  <span class="token known-class-name class-name">FormError</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">FormStrategy</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">FormControl</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">Input</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">Validators</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span> <span class="token keyword module">from</span> <span class="token string">\'zent\'</span><span class="token punctuation">;</span>\n\n<span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">FormIDField</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  name<span class="token punctuation">,</span>\n  model<span class="token punctuation">,</span>\n  defaultValue <span class="token operator">=</span> <span class="token string">\'\'</span><span class="token punctuation">,</span>\n  validators <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n  label<span class="token punctuation">,</span>\n  required<span class="token punctuation">,</span>\n  withoutLabel<span class="token punctuation">,</span>\n  style<span class="token punctuation">,</span>\n  className<span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">if</span> <span class="token punctuation">(</span>name <span class="token operator">&amp;&amp;</span> model<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">\'Cannot use name and model together.\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n  <span class="token keyword">const</span> id <span class="token operator">=</span> <span class="token maybe-class-name">Form</span><span class="token punctuation">.</span><span class="token method function property-access">useField</span><span class="token punctuation">(</span>name <span class="token operator">||</span> model<span class="token punctuation">,</span> defaultValue<span class="token punctuation">,</span> <span class="token punctuation">[</span>\n    <span class="token spread operator">...</span>validators<span class="token punctuation">,</span>\n    <span class="token maybe-class-name">Validators</span><span class="token punctuation">.</span><span class="token method function property-access">pattern</span><span class="token punctuation">(</span><span class="token regex">/^[\\d]{17}[\\dXY]$/</span><span class="token punctuation">,</span> <span class="token string">\'请输入合法的身份证号\'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n  <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">const</span> onChange <span class="token operator">=</span> <span class="token maybe-class-name">React</span><span class="token punctuation">.</span><span class="token method function property-access">useCallback</span><span class="token punctuation">(</span>\n    <span class="token parameter">e</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>\n      id<span class="token punctuation">.</span><span class="token property-access">isTouched</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>\n      <span class="token keyword">const</span> value <span class="token operator">=</span> e<span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">.</span><span class="token method function property-access">replace</span><span class="token punctuation">(</span><span class="token regex">/\\s/g</span><span class="token punctuation">,</span> <span class="token string">\'\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n      <span class="token keyword">if</span> <span class="token punctuation">(</span>value<span class="token punctuation">.</span><span class="token property-access">length</span> <span class="token operator">&lt;=</span> <span class="token number">18</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        id<span class="token punctuation">.</span><span class="token method function property-access">patchValue</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>\n      <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token punctuation">[</span>id<span class="token punctuation">]</span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">return</span> <span class="token punctuation">(</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormControl</span></span>\n      <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>style<span class="token punctuation">}</span></span>\n      <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>className<span class="token punctuation">}</span></span>\n      <span class="token attr-name">label</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>label<span class="token punctuation">}</span></span>\n      <span class="token attr-name">required</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>required<span class="token punctuation">}</span></span>\n      <span class="token attr-name">withoutLabel</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>withoutLabel<span class="token punctuation">}</span></span>\n    <span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Input</span></span>\n        <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token function">formatId</span><span class="token punctuation">(</span>id<span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span>\n        <span class="token attr-name">width</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">220</span><span class="token punctuation">}</span></span>\n        <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onChange<span class="token punctuation">}</span></span>\n        <span class="token attr-name">onBlur</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token maybe-class-name">React</span><span class="token punctuation">.</span><span class="token method function property-access">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> id<span class="token punctuation">.</span><span class="token method function property-access">validate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span>\n      <span class="token punctuation">/></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormError</span></span><span class="token punctuation">></span></span><span class="token punctuation">{</span>id<span class="token punctuation">.</span><span class="token property-access">error</span><span class="token operator">?.</span>message<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">FormError</span></span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">FormControl</span></span><span class="token punctuation">></span></span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">function</span> <span class="token function">formatId</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> segment <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n  <span class="token keyword">let</span> <span class="token punctuation">{</span> length <span class="token punctuation">}</span> <span class="token operator">=</span> value<span class="token punctuation">;</span>\n  <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token string">\'\'</span><span class="token punctuation">;</span>\n  <span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>\n  <span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;</span> length<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span>segment<span class="token punctuation">.</span><span class="token method function property-access">includes</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      result <span class="token operator">+=</span> <span class="token string">\' \'</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    result <span class="token operator">+=</span> value<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>\n    i<span class="token operator">++</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n  <span class="token keyword">return</span> result<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">App</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> form <span class="token operator">=</span> <span class="token maybe-class-name">Form</span><span class="token punctuation">.</span><span class="token method function property-access">useForm</span><span class="token punctuation">(</span><span class="token maybe-class-name">FormStrategy</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">View</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">return</span> <span class="token punctuation">(</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Form</span></span> <span class="token attr-name">form</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>form<span class="token punctuation">}</span></span> <span class="token attr-name">layout</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>horizontal<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormIDField</span></span>\n        <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>id<span class="token punctuation">"</span></span>\n        <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>身份证号：<span class="token punctuation">"</span></span>\n        <span class="token attr-name">required</span>\n        <span class="token attr-name">validators</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token maybe-class-name">Validators</span><span class="token punctuation">.</span><span class="token method function property-access">required</span><span class="token punctuation">(</span><span class="token string">\'请输入身份证号\'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span>\n      <span class="token punctuation">/></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Form</span></span><span class="token punctuation">></span></span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token maybe-class-name">ReactDOM</span><span class="token punctuation">.</span><span class="token method function property-access">render</span><span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">App</span></span> <span class="token punctuation">/></span></span><span class="token punctuation">,</span> mountNode<span class="token punctuation">)</span><span class="token punctuation">;</span>'},k.a.createElement(d)),k.a.createElement(I,{title:"封装多个表单元素",id:"Demo3",src:'<span class="token keyword module">import</span> <span class="token punctuation">{</span> useCallback<span class="token punctuation">,</span> useMemo <span class="token punctuation">}</span> <span class="token keyword module">from</span> <span class="token string">\'react\'</span><span class="token punctuation">;</span>\n<span class="token keyword module">import</span> <span class="token punctuation">{</span>\n  <span class="token maybe-class-name">Form</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">Select</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">NumberInput</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">Notify</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">FormStrategy</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">FormControl</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">Button</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">FieldSet</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">FieldUtils</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">Validators</span><span class="token punctuation">,</span>\n  <span class="token known-class-name class-name">FormError</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span> <span class="token keyword module">from</span> <span class="token string">\'zent\'</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> <span class="token punctuation">{</span> <span class="token maybe-class-name">SelectTrigger</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token maybe-class-name">Select</span><span class="token punctuation">;</span>\n<span class="token keyword">const</span> countyCodeList <span class="token operator">=</span> <span class="token punctuation">[</span>\n  <span class="token punctuation">{</span>\n    code<span class="token operator">:</span> <span class="token string">\'+86\'</span><span class="token punctuation">,</span>\n    zh<span class="token operator">:</span> <span class="token string">\'zhongguo\'</span><span class="token punctuation">,</span>\n    eng<span class="token operator">:</span> <span class="token string">\'china\'</span><span class="token punctuation">,</span>\n    text<span class="token operator">:</span> <span class="token string">\'中国 +86\'</span><span class="token punctuation">,</span>\n    key<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token punctuation">{</span>\n    code<span class="token operator">:</span> <span class="token string">\'+853\'</span><span class="token punctuation">,</span>\n    zh<span class="token operator">:</span> <span class="token string">\'aomen\'</span><span class="token punctuation">,</span>\n    eng<span class="token operator">:</span> <span class="token string">\'Macau\'</span><span class="token punctuation">,</span>\n    text<span class="token operator">:</span> <span class="token string">\'中国澳门 +853\'</span><span class="token punctuation">,</span>\n    key<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n<span class="token punctuation">]</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> <span class="token function-variable function">filterHandler</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> keyword</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>\n  <span class="token keyword">return</span> <span class="token operator">!</span><span class="token operator">!</span><span class="token punctuation">(</span>\n    keyword <span class="token operator">&amp;&amp;</span>\n    item<span class="token punctuation">.</span><span class="token property-access">text</span>\n      <span class="token punctuation">.</span><span class="token method function property-access">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n      <span class="token punctuation">.</span><span class="token method function property-access">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n      <span class="token punctuation">.</span><span class="token method function property-access">indexOf</span><span class="token punctuation">(</span>keyword<span class="token punctuation">.</span><span class="token method function property-access">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token operator">-</span><span class="token number">1</span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token keyword">function</span> <span class="token function">getValue</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">return</span> value<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">const</span> <span class="token function-variable function"><span class="token maybe-class-name">ContactPhone</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> select <span class="token operator">=</span> <span class="token maybe-class-name">Form</span><span class="token punctuation">.</span><span class="token method function property-access">useField</span><span class="token punctuation">(</span><span class="token string">\'areacode\'</span><span class="token punctuation">,</span> countyCodeList<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">const</span> input <span class="token operator">=</span> <span class="token maybe-class-name">Form</span><span class="token punctuation">.</span><span class="token method function property-access">useField</span><span class="token punctuation">(</span><span class="token string">\'mobile\'</span><span class="token punctuation">,</span> <span class="token string">\'\'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>\n    <span class="token maybe-class-name">Validators</span><span class="token punctuation">.</span><span class="token method function property-access">pattern</span><span class="token punctuation">(</span><span class="token regex">/^\\d{1,10}$/</span><span class="token punctuation">,</span> <span class="token string">\'请输入正确的手机号\'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n  <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">const</span> onSelectChange <span class="token operator">=</span> <span class="token maybe-class-name">FieldUtils</span><span class="token punctuation">.</span><span class="token method function property-access">useMulti</span><span class="token punctuation">(</span>\n    <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>\n      select<span class="token punctuation">.</span><span class="token property-access">isTouched</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>select<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n    <span class="token maybe-class-name">FieldUtils</span><span class="token punctuation">.</span><span class="token method function property-access">usePipe</span><span class="token punctuation">(</span>\n      getValue<span class="token punctuation">,</span>\n      <span class="token maybe-class-name">FieldUtils</span><span class="token punctuation">.</span><span class="token method function property-access">makeChangeHandler</span><span class="token punctuation">(</span>select<span class="token punctuation">,</span> <span class="token maybe-class-name">Form</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">ValidateOption</span></span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">Default</span></span><span class="token punctuation">)</span>\n    <span class="token punctuation">)</span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">return</span> <span class="token punctuation">(</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormControl</span></span>\n      <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>form-demo-multiple-value<span class="token punctuation">"</span></span>\n      <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>联系方式:<span class="token punctuation">"</span></span>\n      <span class="token attr-name">invalid</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token operator">!</span><span class="token operator">!</span>select<span class="token punctuation">.</span><span class="token property-access">error</span> <span class="token operator">||</span> <span class="token operator">!</span><span class="token operator">!</span>input<span class="token punctuation">.</span><span class="token property-access">error</span><span class="token punctuation">}</span></span>\n    <span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Select</span></span>\n        <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>areacode<span class="token punctuation">"</span></span>\n        <span class="token attr-name">options</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>countyCodeList<span class="token punctuation">}</span></span>\n        <span class="token attr-name">filter</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>filterHandler<span class="token punctuation">}</span></span>\n        <span class="token attr-name">trigger</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token maybe-class-name">SelectTrigger</span><span class="token punctuation">}</span></span>\n        <span class="token attr-name">width</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">160</span><span class="token punctuation">}</span></span>\n        <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>select<span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">}</span></span>\n        <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onSelectChange<span class="token punctuation">}</span></span>\n      <span class="token punctuation">/></span></span>\n      <span class="token operator">&lt;</span><span class="token maybe-class-name">NumberInput</span>\n        className<span class="token operator">=</span><span class="token string">"phone-num"</span>\n        placeholder<span class="token operator">=</span><span class="token string">"请填写手机号"</span>\n        width<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">160</span><span class="token punctuation">}</span>\n        value<span class="token operator">=</span><span class="token punctuation">{</span>input<span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">}</span>\n        <span class="token punctuation">{</span><span class="token spread operator">...</span><span class="token maybe-class-name">FieldUtils</span><span class="token punctuation">.</span><span class="token method function property-access">useCompositionHandler</span><span class="token punctuation">(</span>input<span class="token punctuation">)</span><span class="token punctuation">}</span>\n        onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token maybe-class-name">FieldUtils</span><span class="token punctuation">.</span><span class="token method function property-access">makeChangeHandler</span><span class="token punctuation">(</span>\n          input<span class="token punctuation">,</span>\n          <span class="token maybe-class-name">Form</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">ValidateOption</span></span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">Default</span></span>\n        <span class="token punctuation">)</span><span class="token punctuation">}</span>\n        onBlur<span class="token operator">=</span><span class="token punctuation">{</span><span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>\n          input<span class="token punctuation">.</span><span class="token property-access">isTouched</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>\n          input<span class="token punctuation">.</span><span class="token method function property-access">validate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>input<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">}</span>\n      <span class="token operator">/</span><span class="token operator">></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Form.CombineErrors</span></span> <span class="token attr-name">models</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span>select<span class="token punctuation">,</span> input<span class="token punctuation">]</span><span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">FormControl</span></span><span class="token punctuation">></span></span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> <span class="token function-variable function"><span class="token maybe-class-name">App</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> form <span class="token operator">=</span> <span class="token maybe-class-name">Form</span><span class="token punctuation">.</span><span class="token method function property-access">useForm</span><span class="token punctuation">(</span><span class="token maybe-class-name">FormStrategy</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">View</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">const</span> getFormValues <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>\n    <span class="token keyword">const</span> values <span class="token operator">=</span> form<span class="token punctuation">.</span><span class="token method function property-access">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>values<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>form<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">const</span> resetForm <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>\n    form<span class="token punctuation">.</span><span class="token method function property-access">resetValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>form<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">return</span> <span class="token punctuation">(</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Form</span></span> <span class="token attr-name">form</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>form<span class="token punctuation">}</span></span> <span class="token attr-name">layout</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>horizontal<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FieldSet</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>contactPhone<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ContactPhone</span></span> <span class="token punctuation">/></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">FieldSet</span></span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>zent-form__form-actions<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Button</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>primary<span class="token punctuation">"</span></span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>getFormValues<span class="token punctuation">}</span></span><span class="token punctuation">></span></span>\n          获取表单值\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Button</span></span><span class="token punctuation">></span></span><span class="token punctuation">{</span><span class="token string">\' \'</span><span class="token punctuation">}</span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Button</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>primary<span class="token punctuation">"</span></span> <span class="token attr-name">outline</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>resetForm<span class="token punctuation">}</span></span><span class="token punctuation">></span></span>\n          重置表单值\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Button</span></span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Form</span></span><span class="token punctuation">></span></span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token maybe-class-name">ReactDOM</span><span class="token punctuation">.</span><span class="token method function property-access">render</span><span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">App</span></span> <span class="token punctuation">/></span></span><span class="token punctuation">,</span> mountNode<span class="token punctuation">)</span><span class="token punctuation">;</span>'},k.a.createElement(g)),k.a.createElement(I,{title:"表单提交",id:"Demo15",src:'<span class="token keyword module">import</span> <span class="token punctuation">{</span> <span class="token maybe-class-name">Form</span><span class="token punctuation">,</span> <span class="token maybe-class-name">FormStrategy</span><span class="token punctuation">,</span> <span class="token maybe-class-name">Notify</span><span class="token punctuation">,</span> <span class="token maybe-class-name">FormInputField</span> <span class="token punctuation">}</span> <span class="token keyword module">from</span> <span class="token string">\'zent\'</span><span class="token punctuation">;</span>\n\n<span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">App</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> form <span class="token operator">=</span> <span class="token maybe-class-name">Form</span><span class="token punctuation">.</span><span class="token method function property-access">useForm</span><span class="token punctuation">(</span><span class="token maybe-class-name">FormStrategy</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">View</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">const</span> onSubmit <span class="token operator">=</span> <span class="token maybe-class-name">React</span><span class="token punctuation">.</span><span class="token method function property-access">useCallback</span><span class="token punctuation">(</span><span class="token parameter">form</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>\n    <span class="token comment">// 在onSubmit触发之前，表单已校验通过</span>\n    <span class="token keyword">const</span> value <span class="token operator">=</span> form<span class="token punctuation">.</span><span class="token method function property-access">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    <span class="token comment">// onSubmit可以返回一个Promise，onSubmitSuccess会在其resolve之后调用</span>\n    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">resolve</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>\n      <span class="token function">setTimeout</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">const</span> onSubmitSuccess <span class="token operator">=</span> <span class="token maybe-class-name">React</span><span class="token punctuation">.</span><span class="token method function property-access">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>\n    <span class="token maybe-class-name">Notify</span><span class="token punctuation">.</span><span class="token method function property-access">success</span><span class="token punctuation">(</span><span class="token string">\'表单提交成功\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">const</span> onSubmitFail <span class="token operator">=</span> <span class="token maybe-class-name">React</span><span class="token punctuation">.</span><span class="token method function property-access">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>\n    <span class="token comment">// 校验失败 或 onSubmit抛出错误时会调用onSubmitFail</span>\n    <span class="token maybe-class-name">Notify</span><span class="token punctuation">.</span><span class="token method function property-access">error</span><span class="token punctuation">(</span><span class="token string">\'校验似乎出了点问题...\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">return</span> <span class="token punctuation">(</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Form</span></span>\n      <span class="token attr-name">form</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>form<span class="token punctuation">}</span></span>\n      <span class="token attr-name">layout</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>horizontal<span class="token punctuation">"</span></span>\n      <span class="token attr-name">onSubmit</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onSubmit<span class="token punctuation">}</span></span>\n      <span class="token attr-name">onSubmitSuccess</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onSubmitSuccess<span class="token punctuation">}</span></span>\n      <span class="token attr-name">onSubmitFail</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onSubmitFail<span class="token punctuation">}</span></span>\n    <span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormInputField</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>name<span class="token punctuation">"</span></span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>姓名：<span class="token punctuation">"</span></span> <span class="token attr-name">required</span> <span class="token punctuation">/></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Button</span></span> <span class="token attr-name">htmlType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>primary<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n        提交\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Button</span></span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Form</span></span><span class="token punctuation">></span></span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token maybe-class-name">ReactDOM</span><span class="token punctuation">.</span><span class="token method function property-access">render</span><span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">App</span></span> <span class="token punctuation">/></span></span><span class="token punctuation">,</span> mountNode<span class="token punctuation">)</span><span class="token punctuation">;</span>'},k.a.createElement(y)),k.a.createElement(N,{html:'<h3 class="anchor-heading"><a href="#biao-dan-xiao-yan">¶</a><a href="javascript:void(0)" id="biao-dan-xiao-yan" class="anchor-point"></a>表单校验</h3>\n<p>通过 <code>Field</code> 上的 <code>validators</code> 参数来设置表单项的校验规则；也可以在 <code>FieldArray</code> 或者 <code>FieldSet</code> 上设置校验规则，这是高级用法，请<a href="#fei-field-ceng-ji-de-xiao-yan">参考这一节</a>。</p>\n<p>表单校验函数定义:</p>\n<pre><code class="language-ts"><span class="token keyword">type</span> <span class="token class-name">AsyncValidator<span class="token operator">&#x3C;</span><span class="token constant">T</span><span class="token operator">></span></span> <span class="token operator">=</span> <span class="token punctuation">(</span>\n  value<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">,</span>\n  ctx<span class="token operator">:</span> ValidatorContext<span class="token operator">&#x3C;</span><span class="token constant">T</span><span class="token operator">></span>\n<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token builtin">Promise</span><span class="token operator">&#x3C;</span>IMaybeError<span class="token operator">&#x3C;</span><span class="token constant">T</span><span class="token operator">>></span> <span class="token operator">|</span> Observable<span class="token operator">&#x3C;</span>IMaybeError<span class="token operator">&#x3C;</span><span class="token constant">T</span><span class="token operator">>></span> <span class="token operator">|</span> <span class="token keyword">null</span><span class="token punctuation">;</span>\n\n<span class="token keyword">type</span> <span class="token class-name">SyncValidator<span class="token operator">&#x3C;</span><span class="token constant">T</span><span class="token operator">></span></span> <span class="token operator">=</span> <span class="token punctuation">(</span>value<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> ctx<span class="token operator">:</span> ValidatorContext<span class="token operator">&#x3C;</span><span class="token constant">T</span><span class="token operator">></span><span class="token punctuation">)</span> <span class="token operator">=></span> IMaybeError<span class="token operator">&#x3C;</span><span class="token constant">T</span><span class="token operator">></span><span class="token punctuation">;</span></code></pre>\n<ul>\n<li>如果返回 <code>null</code> 或者 <code>undefined</code> 表示校验通过；当校验失败时返回一个<a href="https://zent-contrib.github.io/formulr/interfaces/ivalidateresult.html">包含错误信息的对象</a>。</li>\n<li>支持返回 <code>Promise</code> 或 <code>Observable</code> 进行异步校验</li>\n<li>使用 <code>Form.createAsyncValidator</code> 来创建一个异步校验函数，<a href="https://zent-contrib.github.io/formulr/globals.html#createasyncvalidator">查看函数定义</a>；通过 <code>Form.isAsyncValidator</code> 来判断函数是不是异步校验函数，<a href="https://zent-contrib.github.io/formulr/globals.html#isasyncvalidator">查看函数定义</a></li>\n<li>通过 <code>Field</code> 的 <code>validateOccasion</code> 参数控制校验时机</li>\n<li>通过 <code>Field</code> 的 <code>getValidateOption</code> 参数控制校验规则的运行时机以及哪些校验规则需要运行</li>\n</ul>\n<h4 class="anchor-heading"><a href="#nei-zhi-de-xiao-yan-gui-ze">¶</a><a href="javascript:void(0)" id="nei-zhi-de-xiao-yan-gui-ze" class="anchor-point"></a>内置的校验规则</h4>\n<ul>\n<li><a href="https://zent-contrib.github.io/formulr/globals.html#min"><code>Validators.min</code></a></li>\n<li><a href="https://zent-contrib.github.io/formulr/globals.html#max"><code>Validators.max</code></a></li>\n<li><a href="https://zent-contrib.github.io/formulr/globals.html#required"><code>Validators.required</code></a></li>\n<li><a href="https://zent-contrib.github.io/formulr/globals.html#requiredtrue"><code>Validators.requiredTrue</code></a></li>\n<li><a href="https://zent-contrib.github.io/formulr/globals.html#email"><code>Validators.email</code></a></li>\n<li><a href="https://zent-contrib.github.io/formulr/globals.html#minlength"><code>Validators.minLength</code></a></li>\n<li><a href="https://zent-contrib.github.io/formulr/globals.html#maxlength"><code>Validators.maxLength</code></a></li>\n<li><a href="https://zent-contrib.github.io/formulr/globals.html#pattern"><code>Validators.pattern</code></a></li>\n</ul>'}),k.a.createElement(I,{title:"表单校验",id:"Demo4",src:'<span class="token keyword module">import</span> <span class="token punctuation">{</span>\n  <span class="token maybe-class-name">Form</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">FormStrategy</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">Radio</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">Checkbox</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">Notify</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">Validators</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">FormNumberInputField</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">FormInputField</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span> <span class="token keyword module">from</span> <span class="token string">\'zent\'</span><span class="token punctuation">;</span>\n\n<span class="token comment">/**\n * 自定义表单校验，内置组件接受 renderError 参数，若不传默认会显示 message\n */</span>\n<span class="token keyword">function</span> <span class="token function">equalsPassword</span><span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span> ctx</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">!==</span> ctx<span class="token punctuation">.</span><span class="token method function property-access">getSectionValue</span><span class="token punctuation">(</span><span class="token string">\'password\'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">password</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token punctuation">{</span>\n      name<span class="token operator">:</span> <span class="token string">\'passwordEqual\'</span><span class="token punctuation">,</span>\n      message<span class="token operator">:</span> <span class="token string">\'两次填写的密码不一致\'</span><span class="token punctuation">,</span>\n    <span class="token punctuation">}</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n  <span class="token keyword">return</span> <span class="token keyword null nil">null</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">function</span> <span class="token function">idLength</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">if</span> <span class="token punctuation">(</span>value<span class="token punctuation">.</span><span class="token property-access">length</span> <span class="token operator">!==</span> <span class="token number">10</span> <span class="token operator">&amp;&amp;</span> value<span class="token punctuation">.</span><span class="token property-access">length</span> <span class="token operator">!==</span> <span class="token number">15</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token punctuation">{</span>\n      name<span class="token operator">:</span> <span class="token string">\'idLength\'</span><span class="token punctuation">,</span>\n      message<span class="token operator">:</span> <span class="token string">\'证件号码是10位或者15位数字\'</span><span class="token punctuation">,</span>\n    <span class="token punctuation">}</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">App</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> form <span class="token operator">=</span> <span class="token maybe-class-name">Form</span><span class="token punctuation">.</span><span class="token method function property-access">useForm</span><span class="token punctuation">(</span><span class="token maybe-class-name">FormStrategy</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">View</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">const</span> resetForm <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>\n    form<span class="token punctuation">.</span><span class="token method function property-access">resetValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>form<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">return</span> <span class="token punctuation">(</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Form</span></span> <span class="token attr-name">form</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>form<span class="token punctuation">}</span></span> <span class="token attr-name">layout</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>horizontal<span class="token punctuation">"</span></span> <span class="token attr-name">scrollToError</span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormInputField</span></span>\n        <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>name<span class="token punctuation">"</span></span>\n        <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>昵称:<span class="token punctuation">"</span></span>\n        <span class="token attr-name">required</span>\n        <span class="token attr-name">helpDesc</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>正则校验<span class="token punctuation">"</span></span>\n        <span class="token attr-name">validators</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span>\n          <span class="token maybe-class-name">Validators</span><span class="token punctuation">.</span><span class="token method function property-access">required</span><span class="token punctuation">(</span><span class="token string">\'请填写昵称\'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n          <span class="token maybe-class-name">Validators</span><span class="token punctuation">.</span><span class="token method function property-access">pattern</span><span class="token punctuation">(</span><span class="token regex">/^[a-zA-Z]+$/</span><span class="token punctuation">,</span> <span class="token string">\'昵称只能是字母\'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n        <span class="token punctuation">]</span><span class="token punctuation">}</span></span>\n      <span class="token punctuation">/></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormInputField</span></span>\n        <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span>\n        <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>密码:<span class="token punctuation">"</span></span>\n        <span class="token attr-name">required</span>\n        <span class="token attr-name">helpDesc</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>非空校验<span class="token punctuation">"</span></span>\n        <span class="token attr-name">validators</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token maybe-class-name">Validators</span><span class="token punctuation">.</span><span class="token method function property-access">required</span><span class="token punctuation">(</span><span class="token string">\'请填写密码\'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span>\n        <span class="token attr-name">props</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>\n          type<span class="token operator">:</span> <span class="token string">\'password\'</span><span class="token punctuation">,</span>\n        <span class="token punctuation">}</span><span class="token punctuation">}</span></span>\n      <span class="token punctuation">/></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormInputField</span></span>\n        <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>confirmPw<span class="token punctuation">"</span></span>\n        <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>确认密码:<span class="token punctuation">"</span></span>\n        <span class="token attr-name">required</span>\n        <span class="token attr-name">helpDesc</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>自定义校验函数<span class="token punctuation">"</span></span>\n        <span class="token attr-name">validators</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span>equalsPassword<span class="token punctuation">]</span><span class="token punctuation">}</span></span>\n        <span class="token attr-name">props</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>\n          type<span class="token operator">:</span> <span class="token string">\'password\'</span><span class="token punctuation">,</span>\n        <span class="token punctuation">}</span><span class="token punctuation">}</span></span>\n      <span class="token punctuation">/></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormInputField</span></span>\n        <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>email<span class="token punctuation">"</span></span>\n        <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>邮件:<span class="token punctuation">"</span></span>\n        <span class="token attr-name">helpDesc</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>邮件校验<span class="token punctuation">"</span></span>\n        <span class="token attr-name">validators</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token maybe-class-name">Validators</span><span class="token punctuation">.</span><span class="token method function property-access">email</span><span class="token punctuation">(</span><span class="token string">\'请填写正确的邮件\'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span>\n      <span class="token punctuation">/></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormInputField</span></span>\n        <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>remark<span class="token punctuation">"</span></span>\n        <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>备注:<span class="token punctuation">"</span></span>\n        <span class="token attr-name">helpDesc</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>文本输入<span class="token punctuation">"</span></span>\n        <span class="token attr-name">props</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token string">\'textarea\'</span><span class="token punctuation">,</span> showCount<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> maxCharacterCount<span class="token operator">:</span> <span class="token number">10</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span>\n        <span class="token attr-name">validators</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token maybe-class-name">Validators</span><span class="token punctuation">.</span><span class="token method function property-access">maxLength</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token string">\'备注不能超过10个字符\'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span>\n      <span class="token punctuation">/></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormNumberInputField</span></span>\n        <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>id<span class="token punctuation">"</span></span>\n        <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>证件号码:<span class="token punctuation">"</span></span>\n        <span class="token attr-name">required</span>\n        <span class="token attr-name">helpDesc</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>自定义校验函数<span class="token punctuation">"</span></span>\n        <span class="token attr-name">validators</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span>idLength<span class="token punctuation">]</span><span class="token punctuation">}</span></span>\n      <span class="token punctuation">/></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormCheckboxGroupField</span></span>\n        <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hobbies<span class="token punctuation">"</span></span>\n        <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>兴趣标签:<span class="token punctuation">"</span></span>\n        <span class="token attr-name">required</span>\n        <span class="token attr-name">helpDesc</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>长度校验<span class="token punctuation">"</span></span>\n        <span class="token attr-name">validators</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token maybe-class-name">Validators</span><span class="token punctuation">.</span><span class="token method function property-access">minLength</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">\'请至少选择两个\'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span>\n      <span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Checkbox</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>movie<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>电影<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Checkbox</span></span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Checkbox</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>book<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>书籍<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Checkbox</span></span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Checkbox</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>travel<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>旅行<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Checkbox</span></span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">FormCheckboxGroupField</span></span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>zent-form-actions<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Button</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>primary<span class="token punctuation">"</span></span> <span class="token attr-name">htmlType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n          获取表单值\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Button</span></span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Button</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>primary<span class="token punctuation">"</span></span> <span class="token attr-name">outline</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>resetForm<span class="token punctuation">}</span></span><span class="token punctuation">></span></span>\n          重置表单值\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Button</span></span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Form</span></span><span class="token punctuation">></span></span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token maybe-class-name">ReactDOM</span><span class="token punctuation">.</span><span class="token method function property-access">render</span><span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">App</span></span> <span class="token punctuation">/></span></span><span class="token punctuation">,</span> mountNode<span class="token punctuation">)</span><span class="token punctuation">;</span>'},k.a.createElement(b)),k.a.createElement(I,{title:"异步校验",id:"Demo5",src:'<span class="token keyword module">import</span> <span class="token punctuation">{</span>\n  <span class="token maybe-class-name">Form</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">FormStrategy</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">Radio</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">Checkbox</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">Notify</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">Validators</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">FormNumberInputField</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">FormInputField</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span> <span class="token keyword module">from</span> <span class="token string">\'zent\'</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> <span class="token punctuation">{</span> <span class="token maybe-class-name">ValidateOption</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token maybe-class-name">Form</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> asyncValidator <span class="token operator">=</span> <span class="token maybe-class-name">Form</span><span class="token punctuation">.</span><span class="token method function property-access">createAsyncValidator</span><span class="token punctuation">(</span>\n  <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span>\n    <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">resolve</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>\n      <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>\n        <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n          name<span class="token operator">:</span> <span class="token string">\'async\'</span><span class="token punctuation">,</span>\n          message<span class="token operator">:</span> <span class="token string">\'from async validator\'</span><span class="token punctuation">,</span>\n        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span><span class="token punctuation">)</span>\n<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token keyword">function</span> <span class="token function">getValidateOption</span><span class="token punctuation">(</span><span class="token parameter">source</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">if</span> <span class="token punctuation">(</span>source <span class="token operator">===</span> <span class="token string">\'blur\'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token maybe-class-name">ValidateOption</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">IncludeAsync</span></span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">App</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> form <span class="token operator">=</span> <span class="token maybe-class-name">Form</span><span class="token punctuation">.</span><span class="token method function property-access">useForm</span><span class="token punctuation">(</span><span class="token maybe-class-name">FormStrategy</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">View</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">const</span> resetForm <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>\n    form<span class="token punctuation">.</span><span class="token method function property-access">resetValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>form<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">const</span> validateForm <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>\n    form\n      <span class="token punctuation">.</span><span class="token method function property-access">validate</span><span class="token punctuation">(</span><span class="token maybe-class-name">ValidateOption</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">IncludeAsync</span></span> <span class="token operator">|</span> <span class="token maybe-class-name">ValidateOption</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">Default</span></span><span class="token punctuation">)</span>\n      <span class="token punctuation">.</span><span class="token method function property-access">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>\n        <span class="token maybe-class-name">Notify</span><span class="token punctuation">.</span><span class="token method function property-access">success</span><span class="token punctuation">(</span><span class="token string">\'Validate finished\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>form<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">return</span> <span class="token punctuation">(</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Form</span></span> <span class="token attr-name">form</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>form<span class="token punctuation">}</span></span> <span class="token attr-name">layout</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>horizontal<span class="token punctuation">"</span></span> <span class="token attr-name">scrollToError</span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormInputField</span></span>\n        <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>name<span class="token punctuation">"</span></span>\n        <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>昵称:<span class="token punctuation">"</span></span>\n        <span class="token attr-name">required</span>\n        <span class="token attr-name">getValidateOption</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>getValidateOption<span class="token punctuation">}</span></span>\n        <span class="token attr-name">validators</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span>\n          <span class="token maybe-class-name">Validators</span><span class="token punctuation">.</span><span class="token method function property-access">required</span><span class="token punctuation">(</span><span class="token string">\'请填写昵称\'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n          <span class="token maybe-class-name">Validators</span><span class="token punctuation">.</span><span class="token method function property-access">pattern</span><span class="token punctuation">(</span><span class="token regex">/^[a-zA-Z]+$/</span><span class="token punctuation">,</span> <span class="token string">\'昵称只能是字母\'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n          asyncValidator<span class="token punctuation">,</span>\n        <span class="token punctuation">]</span><span class="token punctuation">}</span></span>\n      <span class="token punctuation">/></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>zent-form-actions<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Button</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>primary<span class="token punctuation">"</span></span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>validateForm<span class="token punctuation">}</span></span><span class="token punctuation">></span></span>\n          校验表单\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Button</span></span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Button</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>primary<span class="token punctuation">"</span></span> <span class="token attr-name">outline</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>resetForm<span class="token punctuation">}</span></span><span class="token punctuation">></span></span>\n          重置表单值\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Button</span></span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Form</span></span><span class="token punctuation">></span></span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token maybe-class-name">ReactDOM</span><span class="token punctuation">.</span><span class="token method function property-access">render</span><span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">App</span></span> <span class="token punctuation">/></span></span><span class="token punctuation">,</span> mountNode<span class="token punctuation">)</span><span class="token punctuation">;</span>'},k.a.createElement(f)),k.a.createElement(N,{html:'<h3 class="anchor-heading"><a href="#xiao-yan-xuan-xiang">¶</a><a href="javascript:void(0)" id="xiao-yan-xuan-xiang" class="anchor-point"></a>校验选项</h3>\n<p>校验选项共有以下几种：</p>\n<ul>\n<li><code>ValidateOption.Empty</code>：默认行为</li>\n<li><code>ValidateOption.Default</code>：等同于<code>ValidateOption.Empty</code></li>\n<li><code>ValidateOption.IncludeAsync</code>：校验时包含异步校验</li>\n<li><code>ValidateOption.IncludeUntouched</code>：仅对满足<code>!!model.touched() === true</code>的字段进行校验</li>\n<li><code>ValidateOption.IncludeChildrenRecursively</code>：递归校验下层的 <code>Field</code>，适用于直接从 <code>FieldSet</code> 和 <code>FieldArray</code> 触发的校验</li>\n<li><code>ValidateOption.ExcludePristine</code>：不校验没有修改过的 <code>Field</code></li>\n<li><code>ValidateOption.StopPropagation</code>：禁止校验的冒泡行为（类似事件冒泡）</li>\n</ul>\n<p>校验选项是一个 <code>BitSet</code>，在自定义表单组件中，使用 <code>Model</code> 上的 <code>validate</code> 方法进行校验时，使用 <code>|</code> 运算符联合所需的选项作为参数传入即可。</p>'}),k.a.createElement(I,{title:"校验选项",id:"Demo16",src:'<span class="token keyword module">import</span> <span class="token punctuation">{</span>\n  <span class="token maybe-class-name">Form</span><span class="token punctuation">,</span>\n  <span class="token known-class-name class-name">FormError</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">FormStrategy</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">Validators</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">ValidateOption</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span> <span class="token keyword module">from</span> <span class="token string">\'zent\'</span><span class="token punctuation">;</span>\n\n<span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">RequiredEmail</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  label<span class="token punctuation">,</span>\n  name<span class="token punctuation">,</span>\n  helpDesc<span class="token punctuation">,</span>\n  validators<span class="token punctuation">,</span>\n  validateOption <span class="token operator">=</span> <span class="token maybe-class-name">ValidateOption</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">Empty</span></span><span class="token punctuation">,</span>\n  defaultValue <span class="token operator">=</span> <span class="token string">\'\'</span><span class="token punctuation">,</span>\n  props<span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> model <span class="token operator">=</span> <span class="token maybe-class-name">Form</span><span class="token punctuation">.</span><span class="token method function property-access">useField</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> defaultValue<span class="token punctuation">,</span> <span class="token punctuation">[</span>\n    <span class="token maybe-class-name">Validators</span><span class="token punctuation">.</span><span class="token method function property-access">required</span><span class="token punctuation">(</span><span class="token string">\'请输入邮箱\'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n    <span class="token maybe-class-name">Validators</span><span class="token punctuation">.</span><span class="token method function property-access">email</span><span class="token punctuation">(</span><span class="token string">\'请输入正确的邮箱\'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n    <span class="token spread operator">...</span><span class="token punctuation">(</span>validators <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n  <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">const</span> onChange <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span>\n    <span class="token parameter">e</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>\n      model<span class="token punctuation">.</span><span class="token property-access">isTouched</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>\n      model<span class="token punctuation">.</span><span class="token property-access">value</span> <span class="token operator">=</span> e<span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token punctuation">[</span>model<span class="token punctuation">]</span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">const</span> validate <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>\n    model<span class="token punctuation">.</span><span class="token method function property-access">validate</span><span class="token punctuation">(</span>validateOption<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>model<span class="token punctuation">,</span> validateOption<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">return</span> <span class="token punctuation">(</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormControl</span></span> <span class="token attr-name">label</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>label<span class="token punctuation">}</span></span> <span class="token attr-name">required</span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Input</span></span>\n        <span class="token spread"><span class="token punctuation">{</span><span class="token punctuation">...</span><span class="token attr-value">props</span><span class="token punctuation">}</span></span>\n        <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>model<span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">}</span></span>\n        <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onChange<span class="token punctuation">}</span></span>\n        <span class="token attr-name">onBlur</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>validate<span class="token punctuation">}</span></span>\n        <span class="token attr-name">width</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">240</span><span class="token punctuation">}</span></span>\n      <span class="token punctuation">/></span></span>\n      <span class="token punctuation">{</span>model<span class="token punctuation">.</span><span class="token property-access">error</span> <span class="token operator">&amp;&amp;</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormError</span></span><span class="token punctuation">></span></span><span class="token punctuation">{</span>model<span class="token punctuation">.</span><span class="token property-access">error</span><span class="token punctuation">.</span><span class="token property-access">message</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">FormError</span></span><span class="token punctuation">></span></span><span class="token punctuation">}</span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> color<span class="token operator">:</span> <span class="token string">\'#ababab\'</span><span class="token punctuation">,</span> fontSize<span class="token operator">:</span> <span class="token number">12</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token punctuation">{</span>helpDesc<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">FormControl</span></span><span class="token punctuation">></span></span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">App</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> form <span class="token operator">=</span> <span class="token maybe-class-name">Form</span><span class="token punctuation">.</span><span class="token method function property-access">useForm</span><span class="token punctuation">(</span><span class="token maybe-class-name">FormStrategy</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">View</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">return</span> <span class="token punctuation">(</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Form</span></span> <span class="token attr-name">form</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>form<span class="token punctuation">}</span></span> <span class="token attr-name">layout</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>horizontal<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">RequiredEmail</span></span>\n        <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>email<span class="token punctuation">"</span></span>\n        <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>邮箱：<span class="token punctuation">"</span></span>\n        <span class="token attr-name">helpDesc</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>这个字段总会在blur事件触发校验<span class="token punctuation">"</span></span>\n        <span class="token attr-name">validateOption</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>\n          <span class="token maybe-class-name">ValidateOption</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">IncludeUntouched</span></span> <span class="token operator">|</span> <span class="token maybe-class-name">ValidateOption</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">IncludeAsync</span></span>\n        <span class="token punctuation">}</span></span>\n      <span class="token punctuation">/></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">RequiredEmail</span></span>\n        <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>email<span class="token punctuation">"</span></span>\n        <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>邮箱2：<span class="token punctuation">"</span></span>\n        <span class="token attr-name">helpDesc</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>这个字段只会在触发onChange之后才在blur事件触发校验<span class="token punctuation">"</span></span>\n        <span class="token attr-name">validateOption</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token maybe-class-name">ValidateOption</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">IncludeAsync</span></span><span class="token punctuation">}</span></span>\n      <span class="token punctuation">/></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Form</span></span><span class="token punctuation">></span></span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token maybe-class-name">ReactDOM</span><span class="token punctuation">.</span><span class="token method function property-access">render</span><span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">App</span></span> <span class="token punctuation">/></span></span><span class="token punctuation">,</span> mountNode<span class="token punctuation">)</span><span class="token punctuation">;</span>'},k.a.createElement(h)),k.a.createElement(N,{html:'<h3 class="anchor-heading"><a href="#xiao-yan-zhong-jian-jian">¶</a><a href="javascript:void(0)" id="xiao-yan-zhong-jian-jian" class="anchor-point"></a>校验中间件</h3>\n<p>校验中间件作用于<strong>校验函数本身</strong>，可以把它视作用来装饰函数的装饰器；通过中间件可以为内置的校验函数提供一些额外能力，例如条件校验；使用 <code>FieldUtils.compose</code> 可以将多个中间件组合成一个；</p>\n<p>校验中间件的函数签名：</p>\n<pre><code class="language-ts"><span class="token keyword">type</span> <span class="token class-name">Middleware<span class="token operator">&#x3C;</span><span class="token constant">T</span><span class="token operator">></span></span> <span class="token operator">=</span> <span class="token punctuation">(</span>next<span class="token operator">:</span> IValidator<span class="token operator">&#x3C;</span><span class="token constant">T</span><span class="token operator">></span><span class="token punctuation">)</span> <span class="token operator">=></span> IValidator<span class="token operator">&#x3C;</span><span class="token constant">T</span><span class="token operator">></span><span class="token punctuation">;</span></code></pre>\n<h4 class="anchor-heading"><a href="#nei-zhi-de-xiao-yan-zhong-jian-jian">¶</a><a href="javascript:void(0)" id="nei-zhi-de-xiao-yan-zhong-jian-jian" class="anchor-point"></a>内置的校验中间件</h4>\n<ul>\n<li><code>when</code></li>\n<li><code>whenAsync</code></li>\n<li><code>message</code></li>\n</ul>'}),k.a.createElement(I,{title:"校验中间件",id:"Demo6",src:'<span class="token keyword module">import</span> <span class="token punctuation">{</span>\n  <span class="token maybe-class-name">Form</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">FormStrategy</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">Validators</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">ValidatorMiddlewares</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">FormInputField</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">FormSwitchField</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span> <span class="token keyword module">from</span> <span class="token string">\'zent\'</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> <span class="token punctuation">{</span> <span class="token maybe-class-name">FieldValue</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token maybe-class-name">Form</span><span class="token punctuation">;</span>\n\n<span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">App</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> form <span class="token operator">=</span> <span class="token maybe-class-name">Form</span><span class="token punctuation">.</span><span class="token method function property-access">useForm</span><span class="token punctuation">(</span><span class="token maybe-class-name">FormStrategy</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">View</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">return</span> <span class="token punctuation">(</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Form</span></span> <span class="token attr-name">form</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>form<span class="token punctuation">}</span></span> <span class="token attr-name">layout</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>horizontal<span class="token punctuation">"</span></span> <span class="token attr-name">scrollToError</span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormSwitchField</span></span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>启用短信通知：<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>shouldNotify<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FieldValue</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>shouldNotify<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n        <span class="token punctuation">{</span><span class="token parameter">shouldNotify</span> <span class="token arrow operator">=></span> <span class="token punctuation">(</span>\n          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormInputField</span></span>\n            <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>contact<span class="token punctuation">"</span></span>\n            <span class="token attr-name">label</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>\n              <span class="token punctuation">(</span>shouldNotify <span class="token operator">?</span> <span class="token string">\'手机号\'</span> <span class="token operator">:</span> <span class="token string">\'联系方式\'</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">\'：\'</span>\n            <span class="token punctuation">}</span></span>\n            <span class="token attr-name">required</span>\n            <span class="token attr-name">validators</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span>\n              <span class="token maybe-class-name">ValidatorMiddlewares</span><span class="token punctuation">.</span><span class="token method function property-access">message</span><span class="token punctuation">(</span><span class="token parameter">ctx</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>\n                <span class="token keyword">return</span> ctx<span class="token punctuation">.</span><span class="token method function property-access">getFormValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">shouldNotify</span>\n                  <span class="token operator">?</span> <span class="token string">\'请填写手机号\'</span>\n                  <span class="token operator">:</span> <span class="token string">\'请填写联系方式\'</span><span class="token punctuation">;</span>\n              <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token maybe-class-name">Validators</span><span class="token punctuation">.</span><span class="token method function property-access">required</span><span class="token punctuation">(</span><span class="token string">\'123\'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n              <span class="token maybe-class-name">ValidatorMiddlewares</span><span class="token punctuation">.</span><span class="token method function property-access">when</span><span class="token punctuation">(</span>\n                <span class="token parameter">ctx</span> <span class="token arrow operator">=></span> ctx<span class="token punctuation">.</span><span class="token method function property-access">getFormValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">?.</span>shouldNotify\n              <span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token maybe-class-name">Validators</span><span class="token punctuation">.</span><span class="token method function property-access">pattern</span><span class="token punctuation">(</span><span class="token regex">/^\\d{11}$/</span><span class="token punctuation">,</span> <span class="token string">\'请填写11位手机号\'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n            <span class="token punctuation">]</span><span class="token punctuation">}</span></span>\n          <span class="token punctuation">/></span></span>\n        <span class="token punctuation">)</span><span class="token punctuation">}</span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">FieldValue</span></span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Form</span></span><span class="token punctuation">></span></span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token maybe-class-name">ReactDOM</span><span class="token punctuation">.</span><span class="token method function property-access">render</span><span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">App</span></span> <span class="token punctuation">/></span></span><span class="token punctuation">,</span> mountNode<span class="token punctuation">)</span><span class="token punctuation">;</span>'},k.a.createElement(v)),k.a.createElement(N,{html:'<h3 class="anchor-heading"><a href="#form-bu-ju">¶</a><a href="javascript:void(0)" id="form-bu-ju" class="anchor-point"></a><code>Form</code> 布局</h3>\n<p><code>Form</code> 组件使用 <code>flex</code> 布局，提供两种简单的样式：水平布局 <code>horizontal</code>， 垂直布局 <code>vertical</code>。</p>'}),k.a.createElement(I,{title:"布局",id:"Demo7",src:'<span class="token keyword module">import</span> <span class="token punctuation">{</span> useState<span class="token punctuation">,</span> useCallback <span class="token punctuation">}</span> <span class="token keyword module">from</span> <span class="token string">\'react\'</span><span class="token punctuation">;</span>\n<span class="token keyword module">import</span> <span class="token punctuation">{</span> <span class="token maybe-class-name">Form</span><span class="token punctuation">,</span> <span class="token maybe-class-name">Radio</span><span class="token punctuation">,</span> <span class="token maybe-class-name">Notify</span><span class="token punctuation">,</span> <span class="token maybe-class-name">FormStrategy</span> <span class="token punctuation">}</span> <span class="token keyword module">from</span> <span class="token string">\'zent\'</span><span class="token punctuation">;</span>\n\n<span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">App</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> form <span class="token operator">=</span> <span class="token maybe-class-name">Form</span><span class="token punctuation">.</span><span class="token method function property-access">useForm</span><span class="token punctuation">(</span><span class="token maybe-class-name">FormStrategy</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">View</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">const</span> <span class="token punctuation">[</span>layout<span class="token punctuation">,</span> setLayout<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">\'vertical\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">const</span> onLayoutChange <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token parameter">e</span> <span class="token arrow operator">=></span> <span class="token function">setLayout</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">return</span> <span class="token punctuation">(</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>form-layout<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Radio.Group</span></span>\n        <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>form-layout-radio<span class="token punctuation">"</span></span>\n        <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>layout<span class="token punctuation">}</span></span>\n        <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onLayoutChange<span class="token punctuation">}</span></span>\n      <span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Radio</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>vertical<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>vertical<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Radio</span></span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Radio</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>horizontal<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>horizontal<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Radio</span></span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Radio.Group</span></span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Form</span></span> <span class="token attr-name">layout</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>layout<span class="token punctuation">}</span></span> <span class="token attr-name">form</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>form<span class="token punctuation">}</span></span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormInputField</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>name<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>用户名:<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormInputField</span></span>\n          <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>name2<span class="token punctuation">"</span></span>\n          <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span>\n          <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>用户名2:<span class="token punctuation">"</span></span>\n          <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span>\n        <span class="token punctuation">/></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>zent-form__form-actions<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Button</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>primary<span class="token punctuation">"</span></span> <span class="token attr-name">htmlType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n            获取表单值\n          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Button</span></span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Form</span></span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token maybe-class-name">ReactDOM</span><span class="token punctuation">.</span><span class="token method function property-access">render</span><span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">App</span></span> <span class="token punctuation">/></span></span><span class="token punctuation">,</span> mountNode<span class="token punctuation">)</span><span class="token punctuation">;</span>'},k.a.createElement(F)),k.a.createElement(N,{html:'<h3 class="anchor-heading"><a href="#usefieldarray-he-fieldset">¶</a><a href="javascript:void(0)" id="usefieldarray-he-fieldset" class="anchor-point"></a><code>useFieldArray</code> 和 <code>FieldSet</code></h3>\n<ul>\n<li>\n<p><code>useFieldArray</code> 用于封装一组一样的表单项处理逻辑；<code>FieldSet</code> 用来封装一组相关的表单项处理逻辑。</p>\n</li>\n<li>\n<p>注意并没有所谓的 <code>FieldArray</code> 组件，直接使用 <code>Form.useFieldArray</code> 这个 hooks 即可。该函数有两个重载的实现，分别对应 <code>Form</code> 的两种运行模式。</p>\n</li>\n<li>\n<p><code>useFieldArray</code> 的参数定义请<a href="https://zent-contrib.github.io/formulr/globals.html#usefieldarray">参考这里</a>。</p>\n</li>\n<li>\n<p><code>useFieldArray</code> 返回值是一个 <code>FieldArrayModel</code>，通过 <code>children</code> 就能访问到所有数据，一般在 <code>render</code> 函数里对 <code>children</code> 做 <code>map</code> 操作即可。</p>\n</li>\n<li>\n<p><code>FieldArrayModel</code> 上还有一些操作方法，例如 <code>push</code>/ <code>pop</code> 之类的，完整列表可以在<a href="https://zent-contrib.github.io/formulr/classes/fieldarraymodel.html">这里查看</a>。查看时注意右上角把 <code>Only exported</code> 选项关闭。</p>\n</li>\n<li>\n<p><code>FieldSet</code> 组件和 <code>Form</code> 一样有两种运行模式，<code>View</code> 模式可以通过 <code>name</code> 参数指定对应的数据来源；<code>Model</code> 模式则通过 <code>model</code> 参数显式的设置数据来源。</p>\n</li>\n<li>\n<p><code>FieldSet</code> 两种模式公用的参数可以在<a href="../../apidoc/interfaces/ifieldsetprops.html">这里查看</a>；<code>View</code> 模式额外的参数可以在<a href="../../apidoc/interfaces/iformfieldviewdrivenprops.html">这里查看</a>。</p>\n</li>\n</ul>'}),k.a.createElement(I,{title:"FieldArray 基本使用",id:"Demo8",src:'<span class="token keyword module">import</span> <span class="token punctuation">{</span>\n  <span class="token maybe-class-name">Form</span><span class="token punctuation">,</span>\n  <span class="token known-class-name class-name">FormError</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">Icon</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">Pop</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">Notify</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">FieldModel</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">FieldSetModel</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">FieldSet</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">Validators</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">ValidatorOption</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">FormStrategy</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">FormNumberInputField</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span> <span class="token keyword module">from</span> <span class="token string">\'zent\'</span><span class="token punctuation">;</span>\n\n<span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">Hobbies</span></span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> name <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> model <span class="token operator">=</span> <span class="token maybe-class-name">Form</span><span class="token punctuation">.</span><span class="token method function property-access">useFieldArray</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> <span class="token punctuation">[</span>\n    <span class="token maybe-class-name">Validators</span><span class="token punctuation">.</span><span class="token method function property-access">maxLength</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">\'最多添加 3 项兴趣\'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n  <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">const</span> addHobby <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>\n    model<span class="token punctuation">.</span><span class="token method function property-access">push</span><span class="token punctuation">(</span><span class="token string">\'\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    model<span class="token punctuation">.</span><span class="token method function property-access">validate</span><span class="token punctuation">(</span><span class="token maybe-class-name">ValidateOption</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">IncludeUntouched</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">return</span> <span class="token punctuation">(</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Button</span></span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>addHobby<span class="token punctuation">}</span></span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>add-btn<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n        添加兴趣爱好\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Button</span></span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span>\n        <span class="token punctuation">{</span>model<span class="token punctuation">.</span><span class="token property-access">children</span><span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">child<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">(</span>\n          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>child<span class="token punctuation">.</span><span class="token property-access">id</span><span class="token punctuation">}</span></span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hobby<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormInputField</span></span>\n              <span class="token attr-name">model</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>child<span class="token punctuation">}</span></span>\n              <span class="token attr-name">label</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">兴趣爱好</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>index <span class="token operator">+</span> <span class="token number">1</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">:</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">}</span></span>\n              <span class="token attr-name">validators</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token maybe-class-name">Validators</span><span class="token punctuation">.</span><span class="token method function property-access">required</span><span class="token punctuation">(</span><span class="token string">\'请填写兴趣爱好\'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span>\n              <span class="token attr-name">props</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>\n                width<span class="token operator">:</span> <span class="token number">120</span><span class="token punctuation">,</span>\n              <span class="token punctuation">}</span><span class="token punctuation">}</span></span>\n            <span class="token punctuation">/></span></span>\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span>\n              <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>del-btn<span class="token punctuation">"</span></span>\n              <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>\n                model<span class="token punctuation">.</span><span class="token method function property-access">splice</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n                model<span class="token punctuation">.</span><span class="token method function property-access">validate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n              <span class="token punctuation">}</span><span class="token punctuation">}</span></span>\n            <span class="token punctuation">></span></span>\n              删除该爱好\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>\n          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>\n        <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormError</span></span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> marginLeft<span class="token operator">:</span> <span class="token number">128</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token punctuation">{</span>model<span class="token punctuation">.</span><span class="token property-access">error</span><span class="token operator">?.</span>message<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">FormError</span></span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">></span></span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">MemberInfo</span></span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> remove<span class="token punctuation">,</span> index <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> onRemoveClick <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>\n    <span class="token function">remove</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>index<span class="token punctuation">,</span> remove<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">return</span> <span class="token punctuation">(</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>members<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>member-title<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>\n          成员\n          <span class="token punctuation">{</span>index <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">}</span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Pop</span></span> <span class="token attr-name">centerArrow</span> <span class="token attr-name">trigger</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hover<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>删除该成员<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Icon</span></span>\n            <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>del-btn<span class="token punctuation">"</span></span>\n            <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>close-circle<span class="token punctuation">"</span></span>\n            <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onRemoveClick<span class="token punctuation">}</span></span>\n          <span class="token punctuation">/></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Pop</span></span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormInputField</span></span>\n        <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>name<span class="token punctuation">"</span></span>\n        <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span>\n        <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>名字:<span class="token punctuation">"</span></span>\n        <span class="token attr-name">required</span>\n        <span class="token attr-name">validators</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token maybe-class-name">Validators</span><span class="token punctuation">.</span><span class="token method function property-access">required</span><span class="token punctuation">(</span><span class="token string">\'请填写成员名字\'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span>\n        <span class="token attr-name">normalizeBeforeSubmit</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token parameter">name</span> <span class="token arrow operator">=></span> name<span class="token punctuation">.</span><span class="token method function property-access">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span>\n      <span class="token punctuation">/></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormRadioGroupField</span></span>\n        <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>sex<span class="token punctuation">"</span></span>\n        <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>性别:<span class="token punctuation">"</span></span>\n        <span class="token attr-name">defaultValue</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span>\n        <span class="token attr-name">required</span>\n        <span class="token attr-name">validators</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token maybe-class-name">Validators</span><span class="token punctuation">.</span><span class="token method function property-access">required</span><span class="token punctuation">(</span><span class="token string">\'请选择性别\'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span>\n      <span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Radio</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>男<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Radio</span></span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Radio</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>女<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Radio</span></span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">FormRadioGroupField</span></span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Hobbies</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hobbies<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">Members</span></span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> name <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> model <span class="token operator">=</span> <span class="token maybe-class-name">Form</span><span class="token punctuation">.</span><span class="token method function property-access">useFieldArray</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">const</span> addOne <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>\n    model<span class="token punctuation">.</span><span class="token method function property-access">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>model<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">const</span> addTwo <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>\n    model<span class="token punctuation">.</span><span class="token method function property-access">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>model<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">const</span> remove <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span>\n    <span class="token parameter">index</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>\n      model<span class="token punctuation">.</span><span class="token method function property-access">splice</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token punctuation">[</span>model<span class="token punctuation">]</span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">return</span> <span class="token punctuation">(</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">></span></span>\n      <span class="token punctuation">{</span>model<span class="token punctuation">.</span><span class="token property-access">children</span><span class="token punctuation">.</span><span class="token property-access">length</span> <span class="token operator">&lt;</span> <span class="token number">3</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Button</span></span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>addOne<span class="token punctuation">}</span></span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>add-btn<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n          添加一个成员\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Button</span></span><span class="token punctuation">></span></span>\n      <span class="token punctuation">)</span><span class="token punctuation">}</span>\n      <span class="token punctuation">{</span>model<span class="token punctuation">.</span><span class="token property-access">children</span><span class="token punctuation">.</span><span class="token property-access">length</span> <span class="token operator">&lt;</span> <span class="token number">2</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Button</span></span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>addTwo<span class="token punctuation">}</span></span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>add-btn<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n          添加两个成员\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Button</span></span><span class="token punctuation">></span></span>\n      <span class="token punctuation">)</span><span class="token punctuation">}</span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span>\n        <span class="token punctuation">{</span>model<span class="token punctuation">.</span><span class="token property-access">children</span><span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">child<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">(</span>\n          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FieldSet</span></span> <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>child<span class="token punctuation">.</span><span class="token property-access">id</span><span class="token punctuation">}</span></span> <span class="token attr-name">model</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>child<span class="token punctuation">}</span></span><span class="token punctuation">></span></span>\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">MemberInfo</span></span> <span class="token attr-name">index</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>index<span class="token punctuation">}</span></span> <span class="token attr-name">remove</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>remove<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span>\n          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">FieldSet</span></span><span class="token punctuation">></span></span>\n        <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">></span></span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">App</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> form <span class="token operator">=</span> <span class="token maybe-class-name">Form</span><span class="token punctuation">.</span><span class="token method function property-access">useForm</span><span class="token punctuation">(</span><span class="token maybe-class-name">FormStrategy</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">View</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">const</span> setArray <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>\n    form<span class="token punctuation">.</span><span class="token method function property-access">patchValue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n      number<span class="token operator">:</span> <span class="token number">42</span><span class="token punctuation">,</span>\n      members<span class="token operator">:</span> <span class="token punctuation">[</span>\n        <span class="token punctuation">{</span>\n          name<span class="token operator">:</span> <span class="token string">\'john\'</span><span class="token punctuation">,</span>\n          sex<span class="token operator">:</span> <span class="token string">\'1\'</span><span class="token punctuation">,</span>\n          hobbies<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">\'H1\'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n        <span class="token punctuation">}</span><span class="token punctuation">,</span>\n      <span class="token punctuation">]</span><span class="token punctuation">,</span>\n    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>form<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">const</span> getFormValue <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>\n    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>form<span class="token punctuation">.</span><span class="token method function property-access">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>form<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">const</span> getSubmitValue <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>\n    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>form<span class="token punctuation">.</span><span class="token method function property-access">getSubmitValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>form<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">return</span> <span class="token punctuation">(</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Form</span></span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>demo-form<span class="token punctuation">"</span></span> <span class="token attr-name">layout</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>horizontal<span class="token punctuation">"</span></span> <span class="token attr-name">form</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>form<span class="token punctuation">}</span></span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormNumberInputField</span></span>\n        <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>number<span class="token punctuation">"</span></span>\n        <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>总人数:<span class="token punctuation">"</span></span>\n        <span class="token attr-name">required</span>\n        <span class="token attr-name">validators</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token maybe-class-name">Validators</span><span class="token punctuation">.</span><span class="token method function property-access">required</span><span class="token punctuation">(</span><span class="token string">\'请填写总人数\'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span>\n      <span class="token punctuation">/></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Members</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>members<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> marginTop<span class="token operator">:</span> <span class="token number">16</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Button</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>primary<span class="token punctuation">"</span></span> <span class="token attr-name">htmlType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>getFormValue<span class="token punctuation">}</span></span><span class="token punctuation">></span></span>\n          获取表单值\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Button</span></span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Button</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>primary<span class="token punctuation">"</span></span> <span class="token attr-name">htmlType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>getSubmitValue<span class="token punctuation">}</span></span><span class="token punctuation">></span></span>\n          获取表单提交值\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Button</span></span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Button</span></span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>setArray<span class="token punctuation">}</span></span><span class="token punctuation">></span></span>设置 <span class="token maybe-class-name">FieldArray</span> 值<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Button</span></span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Form</span></span><span class="token punctuation">></span></span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token maybe-class-name">ReactDOM</span><span class="token punctuation">.</span><span class="token method function property-access">render</span><span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">App</span></span> <span class="token punctuation">/></span></span><span class="token punctuation">,</span> mountNode<span class="token punctuation">)</span><span class="token punctuation">;</span>'},k.a.createElement(w)),k.a.createElement(N,{html:'<h3 class="anchor-heading"><a href="#cong-model-gou-jian-biao-dan">¶</a><a href="javascript:void(0)" id="cong-model-gou-jian-biao-dan" class="anchor-point"></a>从 Model 构建表单</h3>\n<p>使用 <code>Form</code> 的 <code>Model</code> 模式需要自己手动创建 model，我们提供了 builder API 来帮助完成这个操作。每个函数返回的都是一个 <code>Builder</code> 对象，<code>Builder</code> 对象都有一个 <code>validators</code> 方法用来配置 model 的校验规则。<strong>Builder API 都支持链式调用</strong>。</p>\n<ul>\n<li><code>Form.form</code> 参数是个对象，用来描述整个 <code>Form</code> model 的结构, <a href="https://zent-contrib.github.io/formulr/globals.html#form">查看函数定义</a></li>\n<li><code>Form.field</code> 参数是 <code>Field</code> 的默认值，<a href="https://zent-contrib.github.io/formulr/globals.html#field">查看函数定义</a></li>\n<li><code>Form.set</code> 参数是个对象，用来描述这个表单集合的结构，<a href="https://zent-contrib.github.io/formulr/globals.html#set">查看函数定义</a></li>\n<li><code>Form.array</code> 参数是一个其他函数返回的 <code>Builder</code> 对象，<code>array</code> 返回的 <code>Builder</code> 对象上有 <code>defaultValue</code> 用于设置这个 array 中的表单项的默认值，<a href="https://zent-contrib.github.io/formulr/globals.html#array">查看函数定义</a></li>\n</ul>'}),k.a.createElement(I,{title:"从 Model 构建表单",id:"Demo9",src:'<span class="token keyword module">import</span> <span class="token punctuation">{</span>\n  <span class="token maybe-class-name">Form</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">Icon</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">Pop</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">Notify</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">FieldModel</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">FieldSetModel</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">FieldSet</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">Validators</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">FormStrategy</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">FormNumberInputField</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span> <span class="token keyword module">from</span> <span class="token string">\'zent\'</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> <span class="token punctuation">{</span> form<span class="token punctuation">,</span> field<span class="token punctuation">,</span> array<span class="token punctuation">,</span> set <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token maybe-class-name">Form</span><span class="token punctuation">;</span>\n\n<span class="token keyword">function</span> <span class="token function">hobbyFactory</span><span class="token punctuation">(</span>defaultValue <span class="token operator">=</span> <span class="token string">\'\'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">return</span> <span class="token function">field</span><span class="token punctuation">(</span>defaultValue<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">Hobbies</span></span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> model<span class="token operator">:</span> propsModel <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> model <span class="token operator">=</span> <span class="token maybe-class-name">Form</span><span class="token punctuation">.</span><span class="token method function property-access">useFieldArray</span><span class="token punctuation">(</span>propsModel<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">const</span> addHobby <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>\n    model<span class="token punctuation">.</span><span class="token method function property-access">push</span><span class="token punctuation">(</span><span class="token string">\'\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">return</span> <span class="token punctuation">(</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Button</span></span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>addHobby<span class="token punctuation">}</span></span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>add-btn<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n        添加兴趣爱好\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Button</span></span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span>\n        <span class="token punctuation">{</span>model<span class="token punctuation">.</span><span class="token property-access">children</span><span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">child<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">(</span>\n          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>index<span class="token punctuation">}</span></span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hobby<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormInputField</span></span>\n              <span class="token attr-name">model</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>child<span class="token punctuation">}</span></span>\n              <span class="token attr-name">label</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">兴趣爱好</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>index <span class="token operator">+</span> <span class="token number">1</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">:</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">}</span></span>\n              <span class="token attr-name">props</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>\n                width<span class="token operator">:</span> <span class="token number">120</span><span class="token punctuation">,</span>\n              <span class="token punctuation">}</span><span class="token punctuation">}</span></span>\n            <span class="token punctuation">/></span></span>\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>del-btn<span class="token punctuation">"</span></span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> model<span class="token punctuation">.</span><span class="token method function property-access">splice</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span>\n              删除该爱好\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>\n          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>\n        <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">></span></span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">MemberInfo</span></span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> remove<span class="token punctuation">,</span> index<span class="token punctuation">,</span> model <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> sex<span class="token punctuation">,</span> hobbies <span class="token punctuation">}</span> <span class="token operator">=</span> model<span class="token punctuation">.</span><span class="token property-access">children</span><span class="token punctuation">;</span>\n  <span class="token keyword">const</span> onRemoveClick <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>\n    <span class="token function">remove</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>index<span class="token punctuation">,</span> remove<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">return</span> <span class="token punctuation">(</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FieldSet</span></span> <span class="token attr-name">model</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>model<span class="token punctuation">}</span></span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>members<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>member-title<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>\n            成员\n            <span class="token punctuation">{</span>index <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">}</span>\n          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>\n          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Pop</span></span> <span class="token attr-name">centerArrow</span> <span class="token attr-name">trigger</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hover<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>删除该成员<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Icon</span></span>\n              <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>del-btn<span class="token punctuation">"</span></span>\n              <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>close-circle<span class="token punctuation">"</span></span>\n              <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onRemoveClick<span class="token punctuation">}</span></span>\n            <span class="token punctuation">/></span></span>\n          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Pop</span></span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormInputField</span></span>\n          <span class="token attr-name">model</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>name<span class="token punctuation">}</span></span>\n          <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span>\n          <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>名字:<span class="token punctuation">"</span></span>\n          <span class="token attr-name">required</span>\n        <span class="token punctuation">/></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormRadioGroupField</span></span> <span class="token attr-name">model</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>sex<span class="token punctuation">}</span></span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>性别:<span class="token punctuation">"</span></span> <span class="token attr-name">required</span><span class="token punctuation">></span></span>\n          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Radio</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>男<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Radio</span></span><span class="token punctuation">></span></span>\n          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Radio</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>女<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Radio</span></span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">FormRadioGroupField</span></span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Hobbies</span></span> <span class="token attr-name">model</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>hobbies<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">FieldSet</span></span><span class="token punctuation">></span></span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">Members</span></span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> model<span class="token operator">:</span> propsModel <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> model <span class="token operator">=</span> <span class="token maybe-class-name">Form</span><span class="token punctuation">.</span><span class="token method function property-access">useFieldArray</span><span class="token punctuation">(</span>propsModel<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">const</span> addOne <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>\n    model<span class="token punctuation">.</span><span class="token method function property-access">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>model<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">const</span> addTwo <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>\n    model<span class="token punctuation">.</span><span class="token method function property-access">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>model<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">const</span> remove <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span>\n    <span class="token parameter">index</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>\n      model<span class="token punctuation">.</span><span class="token method function property-access">splice</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token punctuation">[</span>model<span class="token punctuation">]</span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">return</span> <span class="token punctuation">(</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">></span></span>\n      <span class="token punctuation">{</span>model<span class="token punctuation">.</span><span class="token property-access">children</span><span class="token punctuation">.</span><span class="token property-access">length</span> <span class="token operator">&lt;</span> <span class="token number">3</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Button</span></span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>addOne<span class="token punctuation">}</span></span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>add-btn<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n          添加一个成员\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Button</span></span><span class="token punctuation">></span></span>\n      <span class="token punctuation">)</span><span class="token punctuation">}</span>\n      <span class="token punctuation">{</span>model<span class="token punctuation">.</span><span class="token property-access">children</span><span class="token punctuation">.</span><span class="token property-access">length</span> <span class="token operator">&lt;</span> <span class="token number">2</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Button</span></span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>addTwo<span class="token punctuation">}</span></span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>add-btn<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n          添加两个成员\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Button</span></span><span class="token punctuation">></span></span>\n      <span class="token punctuation">)</span><span class="token punctuation">}</span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span>\n        <span class="token punctuation">{</span>model<span class="token punctuation">.</span><span class="token property-access">children</span><span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">child<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">(</span>\n          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">MemberInfo</span></span> <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>index<span class="token punctuation">}</span></span> <span class="token attr-name">model</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>child<span class="token punctuation">}</span></span> <span class="token attr-name">index</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>index<span class="token punctuation">}</span></span> <span class="token attr-name">remove</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>remove<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span>\n        <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">></span></span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">const</span> formBuilder <span class="token operator">=</span> <span class="token function">form</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  number<span class="token operator">:</span> <span class="token function">field</span><span class="token punctuation">(</span><span class="token string">\'\'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">validators</span><span class="token punctuation">(</span><span class="token maybe-class-name">Validators</span><span class="token punctuation">.</span><span class="token method function property-access">required</span><span class="token punctuation">(</span><span class="token string">\'请填写总人数\'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n  members<span class="token operator">:</span> <span class="token function">array</span><span class="token punctuation">(</span>\n    <span class="token function">set</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n      name<span class="token operator">:</span> <span class="token function">field</span><span class="token punctuation">(</span><span class="token string">\'\'</span><span class="token punctuation">)</span>\n        <span class="token punctuation">.</span><span class="token method function property-access">validators</span><span class="token punctuation">(</span><span class="token maybe-class-name">Validators</span><span class="token punctuation">.</span><span class="token method function property-access">required</span><span class="token punctuation">(</span><span class="token string">\'请填写成员名字\'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n        <span class="token punctuation">.</span><span class="token method function property-access">normalizeBeforeSubmit</span><span class="token punctuation">(</span><span class="token parameter">name</span> <span class="token arrow operator">=></span> name<span class="token punctuation">.</span><span class="token method function property-access">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n      sex<span class="token operator">:</span> <span class="token function">field</span><span class="token punctuation">(</span><span class="token string">\'1\'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">validators</span><span class="token punctuation">(</span>\n        <span class="token maybe-class-name">Validators</span><span class="token punctuation">.</span><span class="token method function property-access">required</span><span class="token punctuation">(</span><span class="token string">\'请选择性别\'</span><span class="token punctuation">)</span>\n      <span class="token punctuation">)</span><span class="token punctuation">,</span>\n      hobbies<span class="token operator">:</span> <span class="token function">array</span><span class="token punctuation">(</span>\n        <span class="token function">field</span><span class="token punctuation">(</span><span class="token string">\'\'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">validators</span><span class="token punctuation">(</span><span class="token maybe-class-name">Validators</span><span class="token punctuation">.</span><span class="token method function property-access">required</span><span class="token punctuation">(</span><span class="token string">\'请填写兴趣爱好\'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n      <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">defaultValue</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n    <span class="token punctuation">}</span><span class="token punctuation">)</span>\n  <span class="token punctuation">)</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">App</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> form <span class="token operator">=</span> <span class="token maybe-class-name">Form</span><span class="token punctuation">.</span><span class="token method function property-access">useForm</span><span class="token punctuation">(</span>formBuilder<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">const</span> <span class="token punctuation">{</span> number<span class="token punctuation">,</span> members <span class="token punctuation">}</span> <span class="token operator">=</span> form<span class="token punctuation">.</span><span class="token property-access">model</span><span class="token punctuation">.</span><span class="token property-access">children</span><span class="token punctuation">;</span>\n  <span class="token keyword">const</span> setArray <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>\n    form<span class="token punctuation">.</span><span class="token method function property-access">patchValue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n      number<span class="token operator">:</span> <span class="token number">42</span><span class="token punctuation">,</span>\n      members<span class="token operator">:</span> <span class="token punctuation">[</span>\n        <span class="token punctuation">{</span>\n          name<span class="token operator">:</span> <span class="token string">\'john\'</span><span class="token punctuation">,</span>\n          sex<span class="token operator">:</span> <span class="token string">\'1\'</span><span class="token punctuation">,</span>\n          hobbies<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">\'H1\'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n        <span class="token punctuation">}</span><span class="token punctuation">,</span>\n      <span class="token punctuation">]</span><span class="token punctuation">,</span>\n    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>form<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">const</span> getFormValue <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>\n    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>form<span class="token punctuation">.</span><span class="token method function property-access">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>form<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">const</span> getSubmitValue <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>\n    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>form<span class="token punctuation">.</span><span class="token method function property-access">getSubmitValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>form<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">return</span> <span class="token punctuation">(</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Form</span></span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>demo-form<span class="token punctuation">"</span></span> <span class="token attr-name">layout</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>horizontal<span class="token punctuation">"</span></span> <span class="token attr-name">form</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>form<span class="token punctuation">}</span></span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormNumberInputField</span></span>\n        <span class="token attr-name">model</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>number<span class="token punctuation">}</span></span>\n        <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>总人数:<span class="token punctuation">"</span></span>\n        <span class="token attr-name">required</span>\n      <span class="token punctuation">/></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Members</span></span> <span class="token attr-name">model</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>members<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> marginTop<span class="token operator">:</span> <span class="token number">16</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Button</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>primary<span class="token punctuation">"</span></span> <span class="token attr-name">htmlType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>getFormValue<span class="token punctuation">}</span></span><span class="token punctuation">></span></span>\n          获取表单值\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Button</span></span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Button</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>primary<span class="token punctuation">"</span></span> <span class="token attr-name">htmlType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>getSubmitValue<span class="token punctuation">}</span></span><span class="token punctuation">></span></span>\n          获取表单提交值\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Button</span></span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Button</span></span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>setArray<span class="token punctuation">}</span></span><span class="token punctuation">></span></span>设置 <span class="token maybe-class-name">FieldArray</span> 值<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Button</span></span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Form</span></span><span class="token punctuation">></span></span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token maybe-class-name">ReactDOM</span><span class="token punctuation">.</span><span class="token method function property-access">render</span><span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">App</span></span> <span class="token punctuation">/></span></span><span class="token punctuation">,</span> mountNode<span class="token punctuation">)</span><span class="token punctuation">;</span>'},k.a.createElement(E)),k.a.createElement(N,{html:'<h3 class="anchor-heading"><a href="#combineerrors">¶</a><a href="javascript:void(0)" id="combineerrors" class="anchor-point"></a>CombineErrors</h3>\n<p>这个组件用来将多个字段的错误聚合成一个错误展示，需要配合 <code>Field</code> 的 <code>withoutError</code> 参数使用。</p>'}),k.a.createElement(I,{title:"聚合多个字段的错误",id:"Demo10",src:'<span class="token keyword module">import</span> <span class="token punctuation">{</span> <span class="token maybe-class-name">FormInputField</span><span class="token punctuation">,</span> <span class="token maybe-class-name">Form</span><span class="token punctuation">,</span> <span class="token maybe-class-name">FormStrategy</span> <span class="token punctuation">}</span> <span class="token keyword module">from</span> <span class="token string">\'zent\'</span><span class="token punctuation">;</span>\n\n<span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">App</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> form <span class="token operator">=</span> <span class="token maybe-class-name">Form</span><span class="token punctuation">.</span><span class="token method function property-access">useForm</span><span class="token punctuation">(</span><span class="token maybe-class-name">FormStrategy</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">View</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">return</span> <span class="token punctuation">(</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Form</span></span> <span class="token attr-name">layout</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>horizontal<span class="token punctuation">"</span></span> <span class="token attr-name">form</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>form<span class="token punctuation">}</span></span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormInputField</span></span>\n        <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>field1<span class="token punctuation">"</span></span>\n        <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>field1<span class="token punctuation">"</span></span>\n        <span class="token attr-name">required</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>请填写内容<span class="token punctuation">"</span></span>\n        <span class="token attr-name">helpDesc</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>这个字段不会展示它自己的错误<span class="token punctuation">"</span></span>\n        <span class="token attr-name">withoutError</span>\n      <span class="token punctuation">/></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormInputField</span></span>\n        <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>field2<span class="token punctuation">"</span></span>\n        <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>field2<span class="token punctuation">"</span></span>\n        <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>field2<span class="token punctuation">"</span></span>\n        <span class="token attr-name">required</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>请填写内容<span class="token punctuation">"</span></span>\n      <span class="token punctuation">/></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Form.CombineErrors</span></span> <span class="token attr-name">names</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token string">\'field1\'</span><span class="token punctuation">,</span> <span class="token string">\'field2\'</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Form</span></span><span class="token punctuation">></span></span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token maybe-class-name">ReactDOM</span><span class="token punctuation">.</span><span class="token method function property-access">render</span><span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">App</span></span> <span class="token punctuation">/></span></span><span class="token punctuation">,</span> mountNode<span class="token punctuation">)</span><span class="token punctuation">;</span>'},k.a.createElement(q)),k.a.createElement(N,{html:'<h3 class="anchor-heading"><a href="#biao-dan-zhi-de-ge-shi-hua">¶</a><a href="javascript:void(0)" id="biao-dan-zhi-de-ge-shi-hua" class="anchor-point"></a>表单值的格式化</h3>\n<ul>\n<li>可以通过 <code>normalize</code> 和 <code>format</code> 参数来格式化 <code>Field</code> 的输入输出</li>\n<li>也可以使用 <code>normalizeBeforeSubmit</code> 属性和 <code>form.getSubmitValue()</code> 方法，在不改变 model 内存储值的情况下修改表单提交的值</li>\n</ul>'}),k.a.createElement(I,{title:"格式化表单值",id:"Demo11",src:'<span class="token keyword module">import</span> <span class="token punctuation">{</span> <span class="token maybe-class-name">FormInputField</span><span class="token punctuation">,</span> <span class="token maybe-class-name">Form</span><span class="token punctuation">,</span> <span class="token maybe-class-name">FormStrategy</span> <span class="token punctuation">}</span> <span class="token keyword module">from</span> <span class="token string">\'zent\'</span><span class="token punctuation">;</span>\n\n<span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">App</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> form <span class="token operator">=</span> <span class="token maybe-class-name">Form</span><span class="token punctuation">.</span><span class="token method function property-access">useForm</span><span class="token punctuation">(</span><span class="token maybe-class-name">FormStrategy</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">View</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">return</span> <span class="token punctuation">(</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Form</span></span> <span class="token attr-name">layout</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>horizontal<span class="token punctuation">"</span></span> <span class="token attr-name">form</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>form<span class="token punctuation">}</span></span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormInputField</span></span>\n        <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>field1<span class="token punctuation">"</span></span>\n        <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>field1<span class="token punctuation">"</span></span>\n        <span class="token attr-name">normalize</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token parameter">value</span> <span class="token arrow operator">=></span> value<span class="token punctuation">.</span><span class="token method function property-access">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span>\n        <span class="token attr-name">format</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token parameter">value</span> <span class="token arrow operator">=></span> value<span class="token punctuation">.</span><span class="token method function property-access">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span>\n      <span class="token punctuation">/></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token punctuation">></span></span>实际值：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Form.FieldValue</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>field1<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Form</span></span><span class="token punctuation">></span></span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token maybe-class-name">ReactDOM</span><span class="token punctuation">.</span><span class="token method function property-access">render</span><span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">App</span></span> <span class="token punctuation">/></span></span><span class="token punctuation">,</span> mountNode<span class="token punctuation">)</span><span class="token punctuation">;</span>'},k.a.createElement(C)),k.a.createElement(N,{html:'<h3 class="anchor-heading"><a href="#du-qu-biao-dan-zhi">¶</a><a href="javascript:void(0)" id="du-qu-biao-dan-zhi" class="anchor-point"></a>读取表单值</h3>\n<p>试想一个使用场景：我们要实现一个活动编辑器，右侧是编辑框，左侧是实时预览；这种场景下除了需要一个地方来输入表单的各个值之外，还需要在另外一个地方读取这些表单值。</p>\n<p>我们提供了一套统一的简单易用，并且使用姿势和 <code>Field</code> 非常相似的 API 来实现组件值的按需读取。这些组件只会监听所需的数据变化，不会因为没有监听的表单项变化了而产生重绘。</p>\n<ul>\n<li><code>Field</code> 组件对应 <code>FieldValue</code>，<code>View</code> 模式下指定一个 <code>name</code>；<code>Model</code> 模式下指定一个 <code>model</code></li>\n<li><code>FieldSet</code> 组件对应 <code>FieldSetValue</code>，只有一个 <code>name</code> 参数；如果是 <code>Model</code> 模式下已经拿到对应的 model 对象了，那么直接将 <code>model.get(xxx)</code> 传给 <code>FieldValue</code> 组件即可</li>\n<li><code>useFieldArray</code> 对应 <code>useFieldArrayValue</code>，<code>View</code> 模式下指定一个 <code>name</code>；<code>Model</code> 模式下指定一个 <code>model</code></li>\n<li><code>useFieldValue</code> 与 <code>FieldValue</code> 的能力相同，它提供了一种 hooks 的风格来获取表单值</li>\n</ul>'}),k.a.createElement(I,{title:"实时预览",id:"Demo12",src:'<span class="token keyword module">import</span> <span class="token punctuation">{</span>\n  <span class="token maybe-class-name">FormInputField</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">Form</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">FormStrategy</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">FieldSet</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">FormControl</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">Icon</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">Input</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">FieldUtils</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span> <span class="token keyword module">from</span> <span class="token string">\'zent\'</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> <span class="token function-variable function"><span class="token maybe-class-name">NicknamesPreview</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> children <span class="token operator">=</span> <span class="token maybe-class-name">Form</span><span class="token punctuation">.</span><span class="token method function property-access">useFieldArrayValue</span><span class="token punctuation">(</span><span class="token string">\'nickname\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>children<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token keyword null nil">null</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n  <span class="token keyword">return</span> <span class="token punctuation">(</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>form-demo-11-preview-nickname<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token punctuation">></span></span><span class="token punctuation">{</span><span class="token string">\'昵称:\'</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span>\n      <span class="token punctuation">{</span>children<span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">child<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">(</span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Form.FieldValue</span></span> <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>index<span class="token punctuation">}</span></span> <span class="token attr-name">model</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>child<span class="token punctuation">}</span></span><span class="token punctuation">></span></span>\n          <span class="token punctuation">{</span><span class="token parameter">value</span> <span class="token arrow operator">=></span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">}</span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Form.FieldValue</span></span><span class="token punctuation">></span></span>\n      <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> <span class="token function-variable function"><span class="token maybe-class-name">Preview</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">(</span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>form-demo-11-preview<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Form.FieldValue</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>name<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token punctuation">{</span><span class="token parameter">value</span> <span class="token arrow operator">=></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">></span></span><span class="token punctuation">{</span>value<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">></span></span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Form.FieldValue</span></span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Form.FieldSetValue</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>contact<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>form-demo-11-preview-phone<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token punctuation">></span></span><span class="token punctuation">{</span><span class="token string">\'电话：\'</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Form.FieldValue</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>phone<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>form-demo-11-preview-address<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Form.FieldValue</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>address<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Form.FieldSetValue</span></span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">NicknamesPreview</span></span> <span class="token punctuation">/></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> <span class="token function-variable function"><span class="token maybe-class-name">Nickname</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> model<span class="token operator">:</span> propsModel<span class="token punctuation">,</span> last<span class="token punctuation">,</span> add<span class="token punctuation">,</span> del <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> model <span class="token operator">=</span> <span class="token maybe-class-name">Form</span><span class="token punctuation">.</span><span class="token method function property-access">useField</span><span class="token punctuation">(</span>propsModel<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">const</span> onChange <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span>\n    <span class="token parameter">e</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>\n      model<span class="token punctuation">.</span><span class="token property-access">value</span> <span class="token operator">=</span> e<span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token punctuation">[</span>model<span class="token punctuation">]</span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">return</span> <span class="token punctuation">(</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>form-demo-11-nickname<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n      <span class="token operator">&lt;</span><span class="token maybe-class-name">Input</span>\n        <span class="token punctuation">{</span><span class="token spread operator">...</span><span class="token maybe-class-name">FieldUtils</span><span class="token punctuation">.</span><span class="token method function property-access">useCompositionHandler</span><span class="token punctuation">(</span>model<span class="token punctuation">)</span><span class="token punctuation">}</span>\n        onChange<span class="token operator">=</span><span class="token punctuation">{</span>onChange<span class="token punctuation">}</span>\n        value<span class="token operator">=</span><span class="token punctuation">{</span>model<span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">}</span>\n      <span class="token operator">/</span><span class="token operator">></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Icon</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>close-circle<span class="token punctuation">"</span></span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> color<span class="token operator">:</span> <span class="token string">\'#da2626\'</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>del<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span>\n      <span class="token punctuation">{</span>last <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Icon</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>plus-circle<span class="token punctuation">"</span></span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> color<span class="token operator">:</span> <span class="token string">\'#4cb35d\'</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>add<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span>\n      <span class="token punctuation">)</span><span class="token punctuation">}</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> <span class="token function-variable function"><span class="token maybe-class-name">Nicknames</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> model <span class="token operator">=</span> <span class="token maybe-class-name">Form</span><span class="token punctuation">.</span><span class="token method function property-access">useFieldArray</span><span class="token punctuation">(</span><span class="token string">\'nickname\'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">\'\'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">const</span> <span class="token function-variable function">add</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> model<span class="token punctuation">.</span><span class="token method function property-access">push</span><span class="token punctuation">(</span><span class="token string">\'\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">const</span> <span class="token function-variable function">del</span> <span class="token operator">=</span> <span class="token parameter">index</span> <span class="token arrow operator">=></span> model<span class="token punctuation">.</span><span class="token method function property-access">splice</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">return</span> <span class="token punctuation">(</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormControl</span></span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>昵称<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n      <span class="token punctuation">{</span>model<span class="token punctuation">.</span><span class="token property-access">children</span><span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">child<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">(</span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Nickname</span></span>\n          <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>index<span class="token punctuation">}</span></span>\n          <span class="token attr-name">model</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>child<span class="token punctuation">}</span></span>\n          <span class="token attr-name">last</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>model<span class="token punctuation">.</span><span class="token property-access">children</span><span class="token punctuation">.</span><span class="token property-access">length</span> <span class="token operator">===</span> index <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">}</span></span>\n          <span class="token attr-name">add</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>add<span class="token punctuation">}</span></span>\n          <span class="token attr-name">del</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token function">del</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">}</span></span>\n        <span class="token punctuation">/></span></span>\n      <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">FormControl</span></span><span class="token punctuation">></span></span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> <span class="token function-variable function"><span class="token maybe-class-name">Edit</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">(</span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormInputField</span></span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>姓名<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>name<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FieldSet</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>contact<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormInputField</span></span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>电话<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>phone<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormInputField</span></span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>联系地址<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>address<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">FieldSet</span></span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Nicknames</span></span> <span class="token punctuation">/></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">App</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> form <span class="token operator">=</span> <span class="token maybe-class-name">Form</span><span class="token punctuation">.</span><span class="token method function property-access">useForm</span><span class="token punctuation">(</span><span class="token maybe-class-name">FormStrategy</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">View</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">return</span> <span class="token punctuation">(</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Form</span></span> <span class="token attr-name">form</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>form<span class="token punctuation">}</span></span> <span class="token attr-name">layout</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>horizontal<span class="token punctuation">"</span></span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>form-demo-11<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Preview</span></span> <span class="token punctuation">/></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Edit</span></span> <span class="token punctuation">/></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Form</span></span><span class="token punctuation">></span></span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token maybe-class-name">ReactDOM</span><span class="token punctuation">.</span><span class="token method function property-access">render</span><span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">App</span></span> <span class="token punctuation">/></span></span><span class="token punctuation">,</span> mountNode<span class="token punctuation">)</span><span class="token punctuation">;</span>'},k.a.createElement(V)),k.a.createElement(N,{html:'<h3 class="anchor-heading"><a href="#fei-field-ceng-ji-de-xiao-yan">¶</a><a href="javascript:void(0)" id="fei-field-ceng-ji-de-xiao-yan" class="anchor-point"></a>非 <code>Field</code> 层级的校验</h3>\n<p><code>FieldSet</code> 和 <code>FieldArray</code> 和 <code>Field</code> 一样可以设置校验规则，这些校验规则是运行在 <code>FieldSet</code> 和 <code>FieldArray</code> 层级的，能拿到下层的所有数据，可以用来实现跨 <code>Field</code> 的校验。</p>'}),k.a.createElement(I,{title:"字段交互",id:"Demo13",src:'<span class="token keyword module">import</span> <span class="token punctuation">{</span> useCallback <span class="token punctuation">}</span> <span class="token keyword module">from</span> <span class="token string">\'react\'</span><span class="token punctuation">;</span>\n<span class="token keyword module">import</span> <span class="token punctuation">{</span>\n  <span class="token maybe-class-name">Form</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">NumberInput</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">Radio</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">FormStrategy</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">Button</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">FieldSet</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">FieldUtils</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">ValidateOption</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span> <span class="token keyword module">from</span> <span class="token string">\'zent\'</span><span class="token punctuation">;</span>\n\n<span class="token keyword">function</span> <span class="token function">sectionValidator</span><span class="token punctuation">(</span><span class="token parameter">values</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">if</span> <span class="token punctuation">(</span>values<span class="token punctuation">.</span><span class="token property-access">option</span> <span class="token operator">!==</span> <span class="token string">\'no-limit\'</span> <span class="token operator">&amp;&amp;</span> values<span class="token punctuation">.</span><span class="token property-access">count</span> <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token punctuation">{</span>\n      name<span class="token operator">:</span> <span class="token string">\'error\'</span><span class="token punctuation">,</span>\n      message<span class="token operator">:</span> <span class="token string">\'次数限制不能为0.\'</span><span class="token punctuation">,</span>\n    <span class="token punctuation">}</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n  <span class="token keyword">return</span> <span class="token keyword null nil">null</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">function</span> <span class="token function">getValue</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">return</span> e<span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">Limit</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> option <span class="token operator">=</span> <span class="token maybe-class-name">Form</span><span class="token punctuation">.</span><span class="token method function property-access">useField</span><span class="token punctuation">(</span><span class="token string">\'option\'</span><span class="token punctuation">,</span> <span class="token string">\'no-limit\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">const</span> count <span class="token operator">=</span> <span class="token maybe-class-name">Form</span><span class="token punctuation">.</span><span class="token method function property-access">useField</span><span class="token punctuation">(</span><span class="token string">\'count\'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">const</span> onOptionChange <span class="token operator">=</span> <span class="token maybe-class-name">FieldUtils</span><span class="token punctuation">.</span><span class="token method function property-access">useMAppend</span><span class="token punctuation">(</span>\n    <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">(</span>option<span class="token punctuation">.</span><span class="token property-access">isTouched</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>option<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n    <span class="token maybe-class-name">FieldUtils</span><span class="token punctuation">.</span><span class="token method function property-access">usePipe</span><span class="token punctuation">(</span>\n      getValue<span class="token punctuation">,</span>\n      <span class="token maybe-class-name">FieldUtils</span><span class="token punctuation">.</span><span class="token method function property-access">makeChangeHandler</span><span class="token punctuation">(</span>option<span class="token punctuation">,</span> <span class="token maybe-class-name">Form</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">ValidateOption</span></span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">Default</span></span><span class="token punctuation">)</span>\n    <span class="token punctuation">)</span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">return</span> <span class="token punctuation">(</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Radio.Group</span></span>\n      <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>form-demo-12-radio-group<span class="token punctuation">"</span></span>\n      <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>option<span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">}</span></span>\n      <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onOptionChange<span class="token punctuation">}</span></span>\n    <span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Radio</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>no-limit<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>不限制<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Radio</span></span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Radio</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>limit<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n        限制\n        <span class="token operator">&lt;</span><span class="token maybe-class-name">NumberInput</span>\n          <span class="token punctuation">{</span><span class="token spread operator">...</span><span class="token maybe-class-name">FieldUtils</span><span class="token punctuation">.</span><span class="token method function property-access">useCompositionHandler</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span><span class="token punctuation">}</span>\n          disabled<span class="token operator">=</span><span class="token punctuation">{</span>option<span class="token punctuation">.</span><span class="token property-access">value</span> <span class="token operator">===</span> <span class="token string">\'no-limit\'</span><span class="token punctuation">}</span>\n          value<span class="token operator">=</span><span class="token punctuation">{</span>count<span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">}</span>\n          onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token maybe-class-name">FieldUtils</span><span class="token punctuation">.</span><span class="token method function property-access">makeChangeHandler</span><span class="token punctuation">(</span>\n            count<span class="token punctuation">,</span>\n            <span class="token maybe-class-name">Form</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">ValidateOption</span></span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">Default</span></span>\n          <span class="token punctuation">)</span><span class="token punctuation">}</span>\n          onBlur<span class="token operator">=</span><span class="token punctuation">{</span><span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>\n            count<span class="token punctuation">.</span><span class="token property-access">isTouched</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>\n            count<span class="token punctuation">.</span><span class="token method function property-access">validate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n          <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>count<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">}</span>\n        <span class="token operator">/</span><span class="token operator">></span>\n        次\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Radio</span></span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Radio.Group</span></span><span class="token punctuation">></span></span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">App</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> form <span class="token operator">=</span> <span class="token maybe-class-name">Form</span><span class="token punctuation">.</span><span class="token method function property-access">useForm</span><span class="token punctuation">(</span><span class="token maybe-class-name">FormStrategy</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">View</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">const</span> submit <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> form<span class="token punctuation">.</span><span class="token method function property-access">submit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">const</span> onSubmit <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>\n    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">\'onSubmit\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">return</span> <span class="token known-class-name class-name">Promise</span><span class="token punctuation">.</span><span class="token method function property-access">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">return</span> <span class="token punctuation">(</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Form</span></span> <span class="token attr-name">form</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>form<span class="token punctuation">}</span></span> <span class="token attr-name">layout</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>horizontal<span class="token punctuation">"</span></span> <span class="token attr-name">onSubmit</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onSubmit<span class="token punctuation">}</span></span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FieldSet</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>values<span class="token punctuation">"</span></span> <span class="token attr-name">validators</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span>sectionValidator<span class="token punctuation">]</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Limit</span></span> <span class="token punctuation">/></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">FieldSet</span></span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Button</span></span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>submit<span class="token punctuation">}</span></span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> marginTop<span class="token operator">:</span> <span class="token number">16</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span>\n          <span class="token maybe-class-name">Submit</span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Button</span></span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Form</span></span><span class="token punctuation">></span></span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token maybe-class-name">ReactDOM</span><span class="token punctuation">.</span><span class="token method function property-access">render</span><span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">App</span></span> <span class="token punctuation">/></span></span><span class="token punctuation">,</span> mountNode<span class="token punctuation">)</span><span class="token punctuation">;</span>'},k.a.createElement(j)),k.a.createElement(N,{html:'<h3 class="anchor-heading"><a href="#biao-dan-zhi-lian-dong">¶</a><a href="javascript:void(0)" id="biao-dan-zhi-lian-dong" class="anchor-point"></a>表单值联动</h3>'}),k.a.createElement(I,{title:"字段值交互",id:"Demo14",src:'<span class="token keyword module">import</span> <span class="token punctuation">{</span> useEffect <span class="token punctuation">}</span> <span class="token keyword module">from</span> <span class="token string">\'react\'</span><span class="token punctuation">;</span>\n<span class="token keyword module">import</span> <span class="token punctuation">{</span>\n  <span class="token maybe-class-name">Form</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">NumberInput</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">Radio</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">FormStrategy</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">Button</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">FieldSet</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">FieldUtils</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">ValidateOption</span><span class="token punctuation">,</span>\n  <span class="token maybe-class-name">FormInputField</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span> <span class="token keyword module">from</span> <span class="token string">\'zent\'</span><span class="token punctuation">;</span>\n\n<span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">App</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> form <span class="token operator">=</span> <span class="token maybe-class-name">Form</span><span class="token punctuation">.</span><span class="token method function property-access">useForm</span><span class="token punctuation">(</span><span class="token maybe-class-name">FormStrategy</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">View</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>\n    <span class="token keyword">const</span> field1 <span class="token operator">=</span> form<span class="token punctuation">.</span><span class="token property-access">model</span><span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span><span class="token string">\'field1\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">const</span> field2 <span class="token operator">=</span> form<span class="token punctuation">.</span><span class="token property-access">model</span><span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span><span class="token string">\'field2\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">const</span> $ <span class="token operator">=</span> field1<span class="token punctuation">.</span><span class="token property-access">value$</span><span class="token punctuation">.</span><span class="token method function property-access">subscribe</span><span class="token punctuation">(</span><span class="token parameter">value</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>\n      field2<span class="token punctuation">.</span><span class="token property-access">value</span> <span class="token operator">=</span> value<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> $<span class="token punctuation">.</span><span class="token method function property-access">unsubscribe</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>form<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">return</span> <span class="token punctuation">(</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Form</span></span> <span class="token attr-name">form</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>form<span class="token punctuation">}</span></span> <span class="token attr-name">layout</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>horizontal<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormInputField</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>field1<span class="token punctuation">"</span></span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>field1<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormInputField</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>field2<span class="token punctuation">"</span></span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>field2<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Form</span></span><span class="token punctuation">></span></span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token maybe-class-name">ReactDOM</span><span class="token punctuation">.</span><span class="token method function property-access">render</span><span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">App</span></span> <span class="token punctuation">/></span></span><span class="token punctuation">,</span> mountNode<span class="token punctuation">)</span><span class="token punctuation">;</span>'},k.a.createElement(x)),k.a.createElement(N,{html:'<h3 class="anchor-heading"><a href="#control-label-yi-ji-error-zu-jian">¶</a><a href="javascript:void(0)" id="control-label-yi-ji-error-zu-jian" class="anchor-point"></a><code>Control</code>, <code>Label</code> 以及 <code>Error</code> 组件</h3>\n<p>实现自定义 <code>Field</code> 的时候会用到这些组件，它们只是样式组件，用来提供和内置 <code>Field</code> 组件一致样式和参数。</p>\n<ul>\n<li><code>Control</code> 封装了 label、自定义组件以及错误信息的结构，<a href="../../apidoc/interfaces/iformcontrolprops.html">查看文档</a></li>\n<li><code>Label</code> 表单项的 label 组件，适用于连 <code>Control</code> 也不想使用的场景，<a href="../../apidoc/interfaces/ilabelprops.html">查看文档</a></li>\n<li><code>Error</code> 表单项的错误信息组件，同 <code>Label</code> 一样适用于深度自定义的场景，<a href="http://127.0.0.1:4396/apidoc/interfaces/iformerrorprops.html">查看文档</a></li>\n</ul>\n<h3 class="anchor-heading"><a href="#biao-dan-shang-xia-wen">¶</a><a href="javascript:void(0)" id="biao-dan-shang-xia-wen" class="anchor-point"></a>表单上下文</h3>\n<p>使用<code>FormContext</code>对整个表单的行为进行控制，目前支持对<code>Label</code>组件进行样式自定义</p>\n<pre><code class="language-ts"><span class="token keyword">interface</span> <span class="token class-name">IZentFormContext</span> <span class="token punctuation">{</span>\n  labelStyle<span class="token operator">?</span><span class="token operator">:</span> CSSProperties<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code></pre>'}),k.a.createElement(I,{title:"表单上下文",id:"Demo17",src:'<span class="token keyword module">import</span> <span class="token punctuation">{</span> <span class="token maybe-class-name">Form</span><span class="token punctuation">,</span> <span class="token maybe-class-name">FormContext</span><span class="token punctuation">,</span> <span class="token maybe-class-name">FormStrategy</span><span class="token punctuation">,</span> <span class="token maybe-class-name">FormInputField</span> <span class="token punctuation">}</span> <span class="token keyword module">from</span> <span class="token string">\'zent\'</span><span class="token punctuation">;</span>\n\n<span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">Component</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> form <span class="token operator">=</span> <span class="token maybe-class-name">Form</span><span class="token punctuation">.</span><span class="token method function property-access">useForm</span><span class="token punctuation">(</span><span class="token maybe-class-name">FormStrategy</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">View</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">return</span> <span class="token punctuation">(</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Form</span></span> <span class="token attr-name">layout</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>horizontal<span class="token punctuation">"</span></span> <span class="token attr-name">form</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>form<span class="token punctuation">}</span></span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormContext.Provider</span></span>\n        <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> labelStyle<span class="token operator">:</span> <span class="token punctuation">{</span> flexBasis<span class="token operator">:</span> <span class="token number">80</span><span class="token punctuation">,</span> justifyContent<span class="token operator">:</span> <span class="token string">\'flex-start\'</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span>\n      <span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormInputField</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>name<span class="token punctuation">"</span></span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>姓名：<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormInputField</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>contact<span class="token punctuation">"</span></span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>联系方式：<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">FormContext.Provider</span></span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Form</span></span><span class="token punctuation">></span></span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token maybe-class-name">ReactDOM</span><span class="token punctuation">.</span><span class="token method function property-access">render</span><span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Component</span></span> <span class="token punctuation">/></span></span><span class="token punctuation">,</span> mountNode<span class="token punctuation">)</span><span class="token punctuation">;</span>'},k.a.createElement(z)),k.a.createElement(N,{html:'<h3 class="anchor-heading"><a href="#fieldutils">¶</a><a href="javascript:void(0)" id="fieldutils" class="anchor-point"></a><code>FieldUtils</code></h3>\n<p><code>FieldUtils</code> 提供一些有用的工具函数。</p>\n<ul>\n<li>useMulti 用来按顺序调用一批函数，只使用它们的副作用，忽略返回值，<a href="https://zent-contrib.github.io/formulr/globals.html#usemulti">查看函数定义</a></li>\n<li>usePipe 用来从左往右按顺序调用一批函数，上一个函数的返回值作为下一个函数的参数，返回最后一个函数的返回值，<a href="https://zent-contrib.github.io/formulr/globals.html#usepipe">查看函数定义</a></li>\n<li>useCompositionHandler 用来在 <code>model</code> 上维护一个输入法编辑的状态, <code>model.isCompositing</code>，<a href="https://zent-contrib.github.io/formulr/globals.html#usecompositionhandler">查看函数定义</a>。组件内部会根据这个状态在输入法输入阶段跳过校验</li>\n<li>makeChangeHandler 生成一个 <code>onChange</code> 回调函数，<a href="https://zent-contrib.github.io/formulr/globals.html#makechangehandler">查看函数定义</a></li>\n<li>compose 与 usePipe 类似，区别是 usePipe 作为 hook 使用，而 compose 可以用在任何地方，例如组合多个校验函数中间件，<a href="https://zent-contrib.github.io/formulr/globals.html#compose">查看函数定义</a></li>\n</ul>\n<h3 class="anchor-heading"><a href="#hooks">¶</a><a href="javascript:void(0)" id="hooks" class="anchor-point"></a>Hooks</h3>\n<p><code>Form</code> 提供以下基础的 hooks，在内置的这些 <code>Form</code> 组件无法满足需要时，可以使用这些 hooks 来封装自定义的 <code>Form</code> 组件。</p>\n<ul>\n<li><code>Form.useForm</code> <a href="https://zent-contrib.github.io/formulr/globals.html#useform">查看文档</a></li>\n<li><code>Form.useField</code> <a href="https://zent-contrib.github.io/formulr/globals.html#usefield">查看文档</a></li>\n<li><code>Form.useFieldArray</code> <a href="https://zent-contrib.github.io/formulr/globals.html#usefieldarray">查看文档</a></li>\n<li><code>Form.useFieldSet</code> <a href="https://zent-contrib.github.io/formulr/globals.html#usefieldset">查看文档</a></li>\n</ul>'}))}}}}]);